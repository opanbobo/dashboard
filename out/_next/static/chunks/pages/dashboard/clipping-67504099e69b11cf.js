(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[418],{22730:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/clipping",function(){return n(49192)}])},49192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var i=n(47568),r=n(26042),s=n(69396),l=n(29815),a=n(97582),o=n(85893),c=n(67294),d=n(46097),u=n(90063),p=n(48513),f={display:"block",position:"relative",width:"100%",marginBottom:12},h=function(e){var t=e.cards,n=e.info,i=e.tables;return(0,o.jsxs)(d.Zb,(0,s.Z)((0,r.Z)({},t),{shadow:"false",children:[(0,o.jsx)("div",{style:f,children:n}),(0,o.jsx)(d.iA,(0,r.Z)({},i))]}))},x={display:"block",position:"relative",width:"100%",marginBottom:12},m=function(e){var t=e.cards,n=e.info,i=e.tables;return(0,o.jsxs)(d.Zb,(0,s.Z)((0,r.Z)({},t),{shadow:"false",children:[(0,o.jsx)("div",{style:x,children:n}),(0,o.jsx)(d.iA,(0,r.Z)({},i))]}))},g=n(93986),j=n(13983),_=n(5152),v=n.n(_),y=n(25617),w=n(58742),b=n(894),C=n(87462),S=n(71002),k=n(97685),z=n(94184),T=n.n(z),Z=n(50344),I=n(98423),O=n(53124),E=n(21369),N=n(96159),X=E.Z.Option;function D(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var J=function(e,t){var n,i=e.prefixCls,r=e.className,s=e.popupClassName,l=e.dropdownClassName,a=e.children,o=e.dataSource,d=(0,Z.Z)(a);if(1===d.length&&(0,N.l$)(d[0])&&!D(d[0])){var u=(0,k.Z)(d,1);n=u[0]}var p,f=n?function(){return n}:void 0;return p=d.length&&D(d[0])?a:o?o.map((function(e){if((0,N.l$)(e))return e;switch((0,S.Z)(e)){case"string":return c.createElement(X,{key:e,value:e},e);case"object":var t=e.value;return c.createElement(X,{key:t,value:t},e.text);default:return}})):[],c.createElement(O.C,null,(function(n){var a=(0,n.getPrefixCls)("select",i);return c.createElement(E.Z,(0,C.Z)({ref:t},(0,I.Z)(e,["dataSource"]),{prefixCls:a,popupClassName:s||l,className:T()("".concat(a,"-auto-complete"),r),mode:E.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:f}),p)}))},H=c.forwardRef(J);H.Option=X;var P=H,V=n(36093),F=n(28367),L=v()((function(){return Promise.resolve().then(n.bind(n,5078))}),{loadableGenerated:{webpack:function(){return[5078]}}}),W={tablet:"(max-width: 450px)",ellipsis:"(max-width: 1024px)",tags:"(max-width: 800px)"},A={display:"-webkit-box",maxWidth:"100%",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},B=function(){var e,t,n,f,x=(0,y.I0)(),_=(0,c.useState)(),v=_[0],C=_[1],S=JSON.parse(localStorage.getItem("userToken")),k=(0,y.v9)((function(e){return e.newsClipping})),z=(0,y.v9)((function(e){return e.filter})),T=((0,y.v9)((function(e){return e.issues})),z.filter),Z=k.newsClippingList,I=k.issueAuto,O=(0,c.useState)([]),E=O[0],N=O[1],X=(0,c.useState)([]),D=X[0],J=X[1],H=(0,c.useState)(!1),B=H[0],M=H[1],R=(0,c.useState)(!1),K=R[0],U=R[1],q=(0,c.useState)(!1),$=q[0],G=q[1],Y=(0,c.useState)(0),Q=Y[0],ee=Y[1],te=(0,c.useState)(10),ne=te[0],ie=te[1],re=(0,c.useState)(0),se=re[0],le=re[1],ae=(0,c.useState)(10),oe=ae[0],ce=ae[1],de=(0,c.useState)(""),ue=de[0],pe=de[1],fe=(0,c.useState)(""),he=fe[0],xe=fe[1],me=(0,c.useState)(!1),ge=me[0],je=me[1],_e=(0,c.useState)([]);_e[0],_e[1];(0,c.useEffect)((function(){(0,p.Z)(W,C)}),[v]),(0,c.useEffect)((function(){x((0,w.rt)()),1198==S.comp_id&&je(!0)}),[]),(0,c.useEffect)((function(){x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{maxSize:10,page:0})))}),[T]);var ve=(0,c.useState)("checkbox"),ye=ve[0],we=(ve[1],(0,c.useState)(!1)),be=we[0],Ce=we[1],Se=(0,c.useState)(!1),ke=Se[0],ze=Se[1],Te=(0,c.useState)(!1),Ze=Te[0],Ie=Te[1],Oe=(0,c.useState)(!1),Ee=Oe[0],Ne=Oe[1],Xe=(0,c.useState)(!0),De=Xe[0],Je=(Xe[1],(0,c.useState)(!0)),He=Je[0],Pe=Je[1],Ve=(0,c.useState)(!1),Fe=Ve[0],Le=Ve[1],We=(0,c.useState)({}),Ae=We[0],Be=We[1],Me=(0,c.useState)({}),Re=Me[0],Ke=Me[1],Ue=(0,c.useState)(""),qe=Ue[0],$e=Ue[1],Ge=(0,c.useState)(""),Ye=Ge[0],Qe=Ge[1],et=(0,c.useState)(""),tt=et[0],nt=et[1],it=(0,c.useState)([]),rt=it[0],st=it[1];(0,c.useEffect)((function(){setTimeout((function(){Pe(!1)}),500)}),[He]);var lt=(0,c.useMemo)((function(){return"https://ojk.media-insight.id"===(window.location.origin?window.location.origin:"")}),[]),at=function(){var e=(0,i.Z)((function(e,t,n,i,l){return(0,a.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,11,,12]),Le(!0),null,Re.title==e?[3,2]:[4,(0,w._$)({category_id:Re.category_id,article_id:Re.article_id,title:e})];case 1:l.sent(),l.label=2;case 2:return[4,(0,w.M9)({category_id:Re.category_id,article_id:Re.article_id,tone:t})];case 3:return l.sent(),Re.summary==n?[3,5]:[4,(0,w.k5)({category_id:Re.category_id,article_id:Re.article_id,summary:n})];case 4:l.sent(),l.label=5;case 5:return Re.issue==i?[3,7]:[4,(0,V.V)({article_id:[Re.article_id],topic:[Re.issue],new_topic:i})];case 6:l.sent(),l.label=7;case 7:return[4,(0,w.yz)({article_id:Re.article_id,category_ids:Re.categories,datee:Re.datee.split(" ")[0],media_id:Re.media_id,tone:Re.tone,advalue_fc:Re.rate_fc,circulation:Re.circulation,advalue_bw:Re.rate_bw})];case 8:return l.sent(),Re.sponsor?[4,(0,w.cK)({article_ids:[Re.article_id],sponsor_ids:Re.sponsor.map((function(e){return e.id}))})]:[3,10];case 9:l.sent(),l.label=10;case 10:return ze(!1),Ke({}),Ie(!1),x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{maxSize:oe,page:se}))),Le(!1),d.t6.success({message:"Data has been Updated",duration:3}),[3,12];case 11:return l.sent(),d.t6.error({message:"Please check your update request!!",duration:3}),[3,12];case 12:return[2]}}))}));return function(t,n,i,r,s){return e.apply(this,arguments)}}(),ot=function(e){var t=JSON.parse(localStorage.getItem("userToken"));(0,w.Tf)({doc_type:e,logo_name:t.comp_icon,articles:E}).then((function(e){return e.json()})).then((function(e){200==e.code&&(window.open(e.data.link),N([]))})).catch((function(e){return console.log(e)}))},ct=function(e){(0,w.r8)({category_id:D.map((function(e){return e.category_id})),article_id:D.map((function(e){return e.article_id})),tone:e}).then((function(e){return e.json()})).then((function(e){200==e.code&&(x((0,w.e9)((0,s.Z)((0,r.Z)({},Z.result),{data:Z.result.data.map((function(t){return e.data.length?e.data.find((function(e){return e.article_id==t.article_id}))?(0,r.Z)({},t,e.data.find((function(e){return e.article_id==t.article_id}))):t:e.data.article_id==t.article_id?(0,r.Z)({},t,e.data):t}))}))),J([]))})).catch((function(e){return console.log(e)}))},dt=function(e){(0,w.jX)("edit"==e?D.map((function(e){return{article_id:e.article_id}})):E.map((function(e){return{article_id:e.article_id}}))).then((function(e){return e.json()})).then((function(t){200==t.code&&(x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{maxSize:oe,page:se}))),"edit"==e?(J([]),d.t6.success({message:"Article from ".concat(D.map((function(e){return e.media_name}))," has been delete"),duration:3})):(N([]),d.t6.success({message:"Article from ".concat(E.map((function(e){return e.media_name}))," has been delete"),duration:3})))})).catch((function(e){return console.log(e)}))},ut=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{type:"dashed",icons:"ScanOutlined",onClick:function(){return ot(0)},children:"Scan File"}),(0,o.jsx)(d.zx,{type:"dashed",icons:"FileWordOutlined",onClick:function(){var e=JSON.parse(localStorage.getItem("userToken"));(0,w.eq)({logo_name:e.comp_icon,articles:E}).then((function(e){return e.json()})).then((function(e){200==e.code&&(window.open(e.data),N([]))})).catch((function(e){return console.log(e)}))},children:"Word File"}),(0,o.jsx)(d.zx,{type:"dashed",icons:"PrinterOutlined",onClick:function(){return ot(1)},children:"Print File"})]}),pt=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{onClick:function(){return ct(1)},children:"Positive"}),(0,o.jsx)(d.zx,{onClick:function(){return ct(0)},children:"Neutral"}),(0,o.jsx)(d.zx,{onClick:function(){return ct(-1)},children:"Negative"})]}),ft=function(e){(0,w.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(t){st(t.data),Be(e),Ce(!0)})).catch((function(e){return console.log(e)}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.li,{style:{height:"100%"},tabPosition:"top",data:[{key:1,title:"News List",content:(0,o.jsx)(h,{cards:{onLoading:Z.loading},info:(0,o.jsxs)(d.X2,{justify:"space-between",align:"middle",children:[(0,o.jsx)(d.JX,{span:24,children:(0,o.jsxs)(d.X2,{align:"middle",justify:"start",children:[(0,o.jsx)(d.JX,{flex:"200px",children:(0,o.jsx)(d.II,{size:"small",placeholder:"search",defaultValue:Ye,onChange:function(e){return Qe(e.target.value)}})}),(0,o.jsx)(d.JX,{flex:"auto",children:(0,o.jsx)(d.zx,{size:"small",type:"primary",icons:"SearchOutlined",onClick:function(){x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{page:0,maxSize:10,term:Ye})))}})})]})}),(0,o.jsx)(d.JX,{flex:100,children:(0,o.jsxs)("label",{style:{textTransform:"capitalize"},children:["article found: ",E.length," /"," ",Z.result.recordsTotal||0]})}),(0,o.jsx)(d.JX,{flex:"auto",children:(0,o.jsxs)(d.T,{children:[(0,o.jsx)(d.zx,{type:"dashed",icons:"MailOutlined",disabled:E.length<=0?De:null,onClick:function(){G(!0)},children:"Email File"}),(0,o.jsx)(d.Lt,{overlay:ut,direction:"horizontal",trigger:"click",placement:"bottomCenter",disabled:E.length<=0?De:null,children:(0,o.jsx)(d.zx,{block:"true",icons:"DownloadOutlined",onClick:function(e){return e.preventDefault()},children:"Download"})}),(0,o.jsx)(d.gn,{title:"Are you sure to delete this?",onConfirm:function(){return dt("clip")},onCancel:function(){N([])},children:(0,o.jsx)(d.zx,{disabled:E.length<=0?De:null,icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})})]}),tables:{data:Z.result.data?Z.result.data:[],pagination:{showSizeChanger:!0,total:Z.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:Q+1,pageSize:ne,onChange:function(e,t){x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{page:e-1,maxSize:t,term:Ye||void 0}),ee(e-1),ie(t)))}},rowSelection:{type:"checkbox",onSelectAll:function(e,t,n){if(e){var i=E.filter((function(e){return!n.find((function(t){return e.article_id==t.article_id}))}));N(i.concat(n))}else{var r=E.filter((function(e){return!n.find((function(t){return e.article_id==t.article_id}))}));N(r)}},onSelect:function(e,t,n,i){var r=E.find((function(t){return t.article_id==e.article_id}))?E.filter((function(t){return t.article_id!==e.article_id})):(0,l.Z)(E).concat([e]);N(r)},getCheckboxProps:function(e){return{rowKey:e.article_id}},selectedRowKeys:E.map((function(e){return e.article_id}))},rowKey:function(e){return e.article_id},expandable:{expandedRowRender:function(e){return(0,o.jsxs)("div",{style:{padding:"0 4px"},children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:e.title}),(0,o.jsxs)("p",{style:{fontWeight:500,marginBottom:3},children:["Issue:",(0,o.jsx)("span",{style:{fontWeight:"normal",marginLeft:3},children:(0,o.jsx)(d.Vp,{icons:"InfoCircleOutlined",color:null!=e.issue?"processing":"",children:(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:null!=e.issue?e.issue:"undifined"})})})]}),(0,o.jsxs)("p",{style:(0,s.Z)((0,r.Z)({},A),{textAlign:"justify"}),children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Content:"}),e.content]}),ge&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Sponsorship:"}),e.sponsor.map((function(e){return(0,o.jsx)(d.Vp,{icons:"InfoCircleOutlined",children:e.name},e.id)}))]})]})},rowExpandable:function(e){return"Not Expandable"!==e.media_name}},column:[{title:"Clipping List",render:function(e){return(0,o.jsxs)(c.Fragment,{children:[(0,o.jsx)(d.TH,{title:"Date",content:e.datee}),(0,o.jsx)(d.TH,{title:"Media",content:e.media_name}),(0,o.jsx)(d.TH,{bold:!0,title:"headline",ellipsis:!0,content:e.title}),(0,o.jsxs)(d.TH,{title:"action",type:"action",children:[(0,o.jsx)(d.zx,{size:"small",icons:"EditTwotone",onClick:function(){ft(e)}}),(0,o.jsx)(d.zx,{size:"small",type:"action",icons:"FileSyncOutlined",onClick:function(){return window.open(e.preview_link)}})]})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",width:160,responsive:["md"],sorter:function(e,t){return e.datee-t.datee}},{title:"Media",dataIndex:"media_name",width:200,responsive:["md"],sorter:function(e,t){return e.media_name.length-t.media_name.length},render:function(e,t){return(0,o.jsx)("a",{href:t.file_pdf,onClick:function(e){e.preventDefault(),window.open("pdf"==t.file_pdf.split(".")[1]?(lt?"https://api.media-insight.id/media/pdf_images/":"https://api.digivla.id/media/pdf_images/")+t.datee.split(" ")[0].split("-").join("/")+"/"+t.file_pdf:t.file_pdf)},children:e})}},{title:"Headline",dataIndex:"title",ellipsis:"ellipsis"==v,responsive:["md"]},{title:"Issue",dataIndex:"issue",width:100,responsive:["md"],sorter:function(e,t){return e.issue-t.issue}},{title:"Action",key:"action",width:90,align:"center",responsive:["md"],render:function(e,t){return(0,o.jsxs)(d.TH,{type:"action",children:[(0,o.jsx)(d.u,{title:"edit article",placement:"left",children:(0,o.jsx)(d.zx,{size:"small",icons:"EditOutlined",onClick:function(){ft(t)}})}),(0,o.jsx)(d.u,{title:"preview article",placement:"left",children:(0,o.jsx)(d.zx,{size:"small",icons:"FileSyncOutlined",onClick:function(){return window.open(t.preview_link)}})})]})}}]}})},{key:2,title:"Updating",content:(0,o.jsx)(m,{cards:{onLoading:Z.loading},info:(0,o.jsxs)(d.X2,{justify:"space-between",align:"middle",children:[(0,o.jsx)(d.JX,{span:24,children:(0,o.jsxs)(d.X2,{align:"middle",justify:"start",children:[(0,o.jsx)(d.JX,{flex:"200px",children:(0,o.jsx)(d.II,{size:"small",placeholder:"search",defaultValue:tt,onChange:function(e){return nt(e.target.value)}})}),(0,o.jsx)(d.JX,{flex:"auto",children:(0,o.jsx)(d.zx,{size:"small",type:"primary",icons:"SearchOutlined",onClick:function(){x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{page:0,maxSize:10,term:tt})))}})})]})}),(0,o.jsx)(d.JX,{flex:100,children:(0,o.jsxs)("label",{style:{textTransform:"capitalize"},children:["article found: ",D.length," /"," ",Z.result.recordsTotal]})}),(0,o.jsx)(d.JX,{flex:"auto",children:(0,o.jsxs)(d.T,{children:[(0,o.jsx)(d.zx,{block:"true",type:"primary",disabled:D.length<=0?De:null,onClick:function(){M(!0),pe("")},icons:"InfoCircleOutlined",children:"tablet"!=v?(0,o.jsx)(o.Fragment,{children:"Issue"}):""}),(0,o.jsx)(d.u_,{title:"Create Issue",visible:B,footer:[(0,o.jsx)(d.zx,{type:"primary",onClick:function(){(0,w.Nu)({article_id:D.map((function(e){return e.article_id})),date:D.map((function(e){return e.datee})),title:D.map((function(e){return e.title})),media_id:D.map((function(e){return e.media_id})),category_id:D.map((function(e){return e.category_id})),topic:ue}).then((function(e){return e.json()})).then((function(e){return d.t6.success({message:"Success add issue"}),(0,V.V)({article_id:D.map((function(e){if(e.issue)return e.article_id})).filter((function(e){return e})),new_topic:ue})})).then((function(e){return e.json()})).then((function(e){M(!1),J([]),d.t6.success({message:"Success edit issue"}),x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{maxSize:oe,page:se,term:tt})))})).catch((function(e){return console.log(e)}))},children:"Submit"},"submit"),(0,o.jsx)(d.zx,{type:"dashed",danger:"true",onClick:function(){M(!1)},children:"Cancel"},"back")],children:(0,o.jsx)(d.X2,{children:(0,o.jsxs)(d.JX,{span:24,children:[(0,o.jsx)("label",{htmlFor:"Input",children:"Issue"}),(0,o.jsx)(P,{options:null===(e=I.result.data)||void 0===e?void 0:e.map((function(e){return{value:e}})),onSelect:function(e){return pe(e)},onChange:function(e){return pe(e)},style:{width:"100%"},placeholder:"Issue Name",id:"influencer_name",filterOption:function(e,t){return-1!==(null===t||void 0===t?void 0:t.value.toUpperCase().indexOf(e.toUpperCase()))}})]})})}),(0,o.jsx)(d.Lt,{overlay:pt,direction:"horizontal",trigger:"click",placement:"bottomCenter",disabled:D.length<=0?De:null,children:(0,o.jsx)(d.zx,{block:"true",icons:"CheckCircleOutlined",onClick:function(e){return e.preventDefault()},children:"Update Tone"})}),(0,o.jsx)(d.gn,{title:"Are you sure to delete this?",onConfirm:function(){return dt("edit")},onCancel:function(){J([])},children:(0,o.jsx)(d.zx,{disabled:D.length<=0?De:null,icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})})]}),tables:{data:Z.result.data,pagination:{showSizeChanger:!0,total:Z.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:se+1,pageSize:oe,onChange:function(e,t){x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{page:e-1,maxSize:t,term:tt||void 0}),le(e-1),ce(t)))}},rowSelection:{type:ye,onChange:function(e,t){J(t)},getCheckboxProps:function(e){return{rowKey:e.article_id}},selectedRowKeys:D.map((function(e){return e.article_id}))},rowKey:function(e){return e.article_id},expandable:{expandedRowRender:function(e){return(0,o.jsxs)("div",{style:{padding:"0 4px"},children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:e.title}),(0,o.jsxs)("p",{style:{fontWeight:500,marginBottom:3},children:["Tone:",(0,o.jsx)("span",{style:{fontWeight:"normal",marginLeft:3},children:(0,o.jsx)(d.Vp,{icons:"InfoCircleOutlined",color:1==e.tone?"success":-1==e.tone?"error":"processing",children:1==e.tone?"Positive":-1==e.tone?"Negative":"Neutral"})})]}),(0,o.jsxs)("p",{style:{fontWeight:500,marginBottom:3},children:["Issue:",(0,o.jsx)("span",{style:{fontWeight:"normal",marginLeft:3},children:(0,o.jsx)(d.Vp,{icons:"InfoCircleOutlined",color:null!=e.issue?"processing":"",children:(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:null!=e.issue?e.issue:"undifined"})})})]}),(0,o.jsxs)("p",{style:(0,s.Z)((0,r.Z)({},A),{textAlign:"justify"}),children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Content:"}),e.content]}),ge&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Sponsorship:"}),e.sponsor.map((function(e){return(0,o.jsx)(d.Vp,{icons:"InfoCircleOutlined",children:e.name},e.id)}))]})]})},rowExpandable:function(e){return"Not Expandable"!==e.media_name}},column:[{title:"Clipping List",render:function(e){return(0,o.jsxs)(c.Fragment,{children:[(0,o.jsx)(d.TH,{title:"Date",ellipsis:!0,content:e.datee}),(0,o.jsx)(d.TH,{title:"Media",ellipsis:!0,content:e.media_name}),(0,o.jsx)(d.TH,{title:"Issue",ellipsis:!0,content:e.issue}),(0,o.jsx)(d.TH,{title:"Tone",ellipsis:!0,content:(0,o.jsx)(d.Vp,{icons:"InfoCircleOutlined",color:1==e.tone?"success":-1==e.tone?"error":"processing",children:1==e.tone?"Positive":-1==e.tone?"Negative":"Neutral"})}),(0,o.jsx)(d.TH,{title:"action",type:"action",children:(0,o.jsx)(d.zx,{size:"small",icons:"EditOutlined",onClick:function(){ze(!0)}})})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",width:150,responsive:["md"],sorter:function(e,t){return e.datee-t.datee}},{title:"Media",dataIndex:"media_name",width:"25%",sorter:function(e,t){return e.media_name.length-t.media_name.length},responsive:["md"],filters:[{text:"Negative",value:-1},{text:"Neutral",value:0},{text:"Positive",value:1}],onFilter:function(e,t){return t.tone==e},render:function(e,t){return(0,o.jsxs)("span",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,o.jsx)(d.Vp,{size:"small",color:1==t.tone?"success":-1==t.tone?"error":"processing",children:1==t.tone?"Positive":-1==t.tone?"Negative":"Neutral"}),(0,o.jsx)("a",{href:t.file_pdf,onClick:function(e){e.preventDefault(),window.open("pdf"==t.file_pdf.split(".")[1]?(lt?"https://api.media-insight.id/media/pdf_images/":"https://api.digivla.id/media/pdf_images/")+t.datee.split(" ")[0].split("-").join("/")+"/"+t.file_pdf:t.file_pdf)},children:e})]})}},{title:"Headline",dataIndex:"title",width:"50%",responsive:["md"],ellipsis:!0,render:function(e,t){return(0,o.jsxs)(o.Fragment,{children:[t.flags&&(0,o.jsx)(d.u,{title:"user change this article tone",children:(0,o.jsx)(d.JO,{style:{marginRight:3,color:"#1990ff"},type:"InfoCircleOutlined"})}),t.title]})}},{title:"Issue",dataIndex:"issue",key:"issue",width:100,responsive:["lg"],render:function(e,t){return(0,o.jsx)(d.Vp,{color:null!=e?"processing":"primary",children:(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:null!=e?e:"issue"})})}},{title:"Action",key:"action",width:90,align:"center",responsive:["md"],render:function(e,t){return(0,o.jsx)(d.TH,{type:"action",children:(0,o.jsx)(d.u,{title:"edit article",placement:"left",children:(0,o.jsx)(d.zx,{size:"small",icons:"EditOutlined",onClick:function(){return t.article_id,e=t,void(0,w.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(t){st(t.data),Ke(e),ze(!0)})).catch((function(e){return console.log(e)}));var e}})})})}}]}})}].filter((function(e){return 1!=JSON.parse(localStorage.getItem("userToken")).usr_comp_level||2!=e.key}))}),(0,o.jsx)(d.u_,{visible:$,footer:[(0,o.jsx)(d.zx,{type:"dashed",danger:"true",onClick:function(){G(!1)},children:"cancel"},"cancel"),(0,o.jsx)(d.zx,{type:"primary",onClick:function(){var e;(e=qe)?(0,w.L5)({data:E.map((function(e){return{article_id:e.article_id,category_id:e.category_id}})),email:e}).then((function(e){return e.json()})).then((function(){N([]),G(!1),$e(""),d.t6.success({message:"E-mail has been send"})})):d.t6.error({message:"E-mail address is Empty!!!"})},children:"Send"},"submit")],children:(0,o.jsx)(d.X2,{children:(0,o.jsxs)(d.JX,{span:24,children:[(0,o.jsx)("p",{children:"If more than 1 email is to be sent then use a comma (,) to separate the email. Examples: abc@mail.com, def@mail.com"}),(0,o.jsx)("label",{htmlFor:"input",children:"E-mail"}),(0,o.jsx)(d.II,{type:"textarea",onChange:function(e){return $e(e.target.value)},defaultValue:qe})]})})}),(0,o.jsx)(d.u_,{visible:K,title:Re.issue,footer:[(0,o.jsx)(d.zx,{type:"dashed",danger:"true",onClick:function(){U(!1)},children:"cancel"},"cancel"),(0,o.jsx)(d.zx,{type:"primary",onClick:function(){return e=he,void(0,V.V)({article_id:Re.article_id,topic:Re.issue,new_topic:e}).then((function(e){return e.json()})).then((function(t){200==t.code&&(x((0,w.Dc)((0,s.Z)((0,r.Z)({},T.result),{maxSize:oe,page:se}))),J([]),xe(""),d.t6.success({message:"Issue from ".concat(Re.article_id," has been update"),description:"Old Issue: ".concat(Re.issue," <br/> New Issue: ").concat(e)}))})).catch((function(e){console.log(e),J([]),xe(""),d.t6.error({message:"Please check your update request"})}));var e},children:"Submit"},"submit")],children:(0,o.jsx)(d.II,{onChange:function(e){return xe(e.target.value)},value:he,defaultValue:Re.issue})}),(0,o.jsx)(L,{title:Ae.title,placement:"right",visible:be,onClose:function(){Ce(!1)},children:(0,o.jsxs)(d.X2,{children:[(0,o.jsxs)(d.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,o.jsx)(d.TH,{bold:!0,title:"date",content:Ae.datee}),(0,o.jsx)(d.TH,{bold:!0,title:"media",content:(0,o.jsx)(d.zx,{type:"link",target:"_BLANK",href:Ae.preview_link,children:Ae.media_name})}),(0,o.jsx)(d.TH,{bold:!0,title:"sentiment",content:(0,o.jsx)(d.Vp,{children:1==Ae.tone?"Positive":-1==Ae.tone?"Negative":"Neutral"})})]}),(0,o.jsxs)(d.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,o.jsx)(d.TH,{bold:!0,title:"news value",content:(0,u.v)(Ae.advalue_bw)}),(0,o.jsx)(d.TH,{bold:!0,title:"ad value",content:(0,u.v)(Ae.advalue_fc)})]}),ge&&(0,o.jsx)(d.JX,{span:24,children:(0,o.jsx)(d.TH,{bold:!0,ellipsis:!0,title:"Sponsorship:",content:null===(t=Ae.sponsor)||void 0===t?void 0:t.map((function(e){return(0,o.jsx)(d.Vp,{children:e.name},e.id)}))})}),Ze?(0,o.jsx)(d.JX,{span:24,children:(0,o.jsx)(g.Z,{options:j.cq})}):(0,o.jsx)(c.Fragment,{children:(0,o.jsxs)(d.JX,{span:24,children:["p4"==(null===(n=Ae.file_pdf)||void 0===n?void 0:n.split(".m")[1])&&(0,o.jsx)("video",{src:Ae.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,F.p)(rt,Ae.content)}})]})}),(0,o.jsx)(d.JX,{span:24,children:null===(f=Ae.categories)||void 0===f?void 0:f.map((function(e){return(0,o.jsx)(d.u,{title:e,children:(0,o.jsx)(d.Vp,{style:{margin:3},color:"processing",children:e})},e)}))})]})}),ke?(0,o.jsx)(b.Z,{setclipEditingPop:ze,setEditingDrawerTemp:Ke,clipEditingPop:ke,editingDrawerTemp:Re,handleSubmitEditingModal:at,summaryEdit:Ee,setsummaryEdit:Ne,setsaveArticlePop:Ie,saveArticlePop:Ze,buttonLoading:Fe,setbuttonLoading:Le,keyword:rt,sponsor:ge&&(0,o.jsx)(d.JX,{span:24,children:(0,o.jsx)(d.TH,{bold:!0,ellipsis:!0,title:"Sponsorship:",content:Re.sponsor.map((function(e){return(0,o.jsx)(d.Vp,{children:e.name},e.id)}))})}),sponsorCol:ge}):null]})}}},function(e){e.O(0,[840,89,774,888,179],(function(){return t=22730,e(e.s=t);var t}));var t=e.O();_N_E=t}]);