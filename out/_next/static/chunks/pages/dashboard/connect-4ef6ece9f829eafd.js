(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{27049:function(e,n,t){"use strict";var a=t(87462),r=t(4942),i=t(94184),l=t.n(i),o=t(67294),s=t(53124),c=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};n.Z=function(e){var n=o.useContext(s.E_),t=n.getPrefixCls,i=n.direction,u=e.prefixCls,d=e.type,m=void 0===d?"horizontal":d,h=e.orientation,f=void 0===h?"center":h,p=e.orientationMargin,g=e.className,x=e.children,v=e.dashed,b=e.plain,j=c(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),_=t("divider",u),Z=f.length>0?"-".concat(f):f,y=!!x,w="left"===f&&null!=p,I="right"===f&&null!=p,k=l()(_,"".concat(_,"-").concat(m),(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},"".concat(_,"-with-text"),y),"".concat(_,"-with-text").concat(Z),y),"".concat(_,"-dashed"),!!v),"".concat(_,"-plain"),!!b),"".concat(_,"-rtl"),"rtl"===i),"".concat(_,"-no-default-orientation-margin-left"),w),"".concat(_,"-no-default-orientation-margin-right"),I),g),S=(0,a.Z)((0,a.Z)({},w&&{marginLeft:p}),I&&{marginRight:p});return o.createElement("div",(0,a.Z)({className:k},j,{role:"separator"}),x&&"vertical"!==m&&o.createElement("span",{className:"".concat(_,"-inner-text"),style:S},x))}},33734:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/connect",function(){return t(88166)}])},88166:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var a=t(26042),r=t(69396),i=t(99534),l=t(29815),o=t(85893),s=t(25617),c=t(67294),u=t(32495),d=t.n(u),m=t(5152),h=t.n(m),f=(t(78183),t(46097)),p=t(27049),g=t(47568),x=t(97582),v=t(63426),b=t(83401),j=(t(49552),h()((function(){return Promise.all([t.e(937),t.e(156)]).then(t.t.bind(t,71167,23))}),{loadableGenerated:{webpack:function(){return[71167]}},ssr:!1}),[{value:"National",label:"National"},{value:"Business",label:"Business"},{value:"Legal",label:"Legal"}]),_=function(e){var n,t=e.group,l=e.options,s=e.setupload,c=e.upload,u=e.indeterminate,d=e.connectMediaList,m=(0,i.Z)(e,["group","options","setupload","upload","indeterminate","connectMediaList"]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.XZ,(0,r.Z)((0,a.Z)({indeterminate:u,onChange:function(e){e.target.checked?s((0,r.Z)((0,a.Z)({},c),{media_names:d.result.results.map((function(e){return e.media_name}))})):s((0,r.Z)((0,a.Z)({},c),{media_names:[]}))},checked:c.media_names.length==(null===(n=d.result.results)||void 0===n?void 0:n.length)},m),{children:"Select all"})),(0,o.jsx)(p.Z,{style:{margin:"6px 0"}}),(0,o.jsx)(f.XZ,(0,a.Z)({style:{display:"flex",alignItems:"flex-start",flexDirection:"column",height:200,width:"100%",overflow:"auto"},type:"group",options:l,value:c.media_names,id:"media_names",onChange:function(e){s((0,r.Z)((0,a.Z)({},c),{media_names:e}))}},t))]})},Z=function(){var e=(0,s.I0)(),n=(0,c.useState)(),t=(n[0],n[1],(0,c.useState)(!0)),i=t[0],u=(t[1],(0,c.useState)(!1)),m=(u[0],u[1],(0,s.v9)((function(e){return e.connect}))),h=m.connectMediaList,p=(m.connectUpload,(0,c.useState)(!1)),Z=p[0],y=p[1],w=(0,c.useState)({headline:"",subline:"",client_email:"",content:"",editorial_desk:"",media_names:[],images:[]}),I=w[0],k=w[1];(0,c.useEffect)((function(){var n;e(function(){var e=(0,g.Z)((function(e,t){var a,r,i;return(0,x.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e({type:v.L77}),a=JSON.parse(localStorage.getItem("userToken")),[4,(0,b.Be)("wartawan/medias",a.token,n)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),e({type:v.KMw,result:r}),[3,4];case 3:return i=t.sent(),e({type:v.W0N,result:i}),[3,4];case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}())}),[]);var S=function(e){return JSON.stringify(e)},C=function(){var e,n=I.client_email?I:{headline:I.headline,subline:I.subline,content:I.content,editorial_desk:I.editorial_desk,media_names:I.media_names,images:I.images};(e=n,new Promise((function(n,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,b.SD)("wartawan/upload/",a.token,e).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))).then((function(e){return e.json()})).then((function(e){if(e.message)f.t6.success({message:e.message,description:I.headline});else{var n=[];for(var t in e)n.push(t);f.t6.error({message:n.join(", ")+" error"})}})).catch((function(e){console.log(e)}))};return(0,o.jsx)(f.l0,{form:!0,children:(0,o.jsxs)(f.X2,{children:[(0,o.jsx)(f.JX,{span:24,children:(0,o.jsxs)(f.X2,{children:[(0,o.jsxs)(f.JX,{span:12,children:[(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"headline",children:"Headline"}),(0,o.jsx)(f.II,{id:"headline",addonAfter:(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return y(!Z)},children:"cc"}),onChange:function(e){return k((0,r.Z)((0,a.Z)({},I),{headline:e.target.value}))},value:I.headline,placeholder:"headline"})]}),Z?(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"client_email",children:"CC"}),(0,o.jsx)(f.II,{suffixIcon:"InfoCircleOutlined",tooltips:"only include 1 e-mail address",id:"client_email",onChange:function(e){return k((0,r.Z)((0,a.Z)({},I),{client_email:e.target.value}))},value:I.client_email,placeholder:"cc AI-connect"})]}):null,(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"subline",children:"Subline"}),(0,o.jsx)(f.II,{id:"subline",onChange:function(e){return k((0,r.Z)((0,a.Z)({},I),{subline:e.target.value}))},value:I.subline,placeholder:"subline"})]}),(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"radio",children:"Editor Desk"}),(0,o.jsx)(f.Y8,{type:"group",optionType:"button",name:I.editorial_desk,onChange:function(e){return function(e){k((0,r.Z)((0,a.Z)({},I),{editorial_desk:e.target.value}))}(e)},id:"editorial_desk",style:{width:"100%"},children:j.map((function(e){return(0,o.jsx)(f.Y8,{value:e.value,children:e.label},e.value)}))})]}),(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"radio",children:"Picture Upload"}),(0,o.jsx)(d(),{id:"images",multiple:!0,onDone:function(e){return k((0,r.Z)((0,a.Z)({},I),{images:(0,l.Z)(I.images).concat([{filename:JSON.parse(S(e))[0].name,base64:JSON.parse(S(e))[0].base64}])}))}})]})]}),(0,o.jsx)(f.JX,{span:12,children:(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"radio",children:"Media Select"}),(0,o.jsx)(_,{upload:I,connectMediaList:h,style:{width:"100%"},id:"media_names",value:I.media_names,setupload:k,indeterminate:i,options:h.result.results?h.result.results.sort((function(e,n){return e.media_name>n.media_name?1:-1})).map((function(e,n){return{label:e.media_name,value:e.media_name}})):[]})]})})]})}),(0,o.jsx)(f.JX,{span:24,children:(0,o.jsxs)(f.l0.Item,{children:[(0,o.jsx)("label",{htmlFor:"radio",children:"Content"}),(0,o.jsx)(f.II,{type:"textarea",id:"content",rows:8,defaultValue:I.content,onChange:function(e){return k((0,r.Z)((0,a.Z)({},I),{content:e.target.value}))}})]})}),(0,o.jsx)(f.JX,{xs:24,md:4,lg:4,xl:2,children:(0,o.jsx)(f.l0.Item,{children:(0,o.jsx)(f.zx,{type:"primary",block:"true",htmlType:"submit",onClick:function(){C()},children:"Send Email"})})})]})})}},78183:function(){},29815:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(20943);var r=t(13375);var i=t(91566);function l(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||(0,r.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[495,111,774,888,179],(function(){return n=33734,e(e.s=n);var n}));var n=e.O();_N_E=n}]);