(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[418],{5203:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/clipping",function(){return n(49192)}])},49192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var i=n(35666),r=n.n(i),o=n(85893),s=n(67294),l=n(86031),a=n(90063),c=n(48513);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){u(e,t,n[t])}))}return e}var f={display:"block",position:"relative",width:"100%",marginBottom:12},p=function(e){var t=e.cards,n=e.info,i=e.tables;return(0,o.jsxs)(l.Zb,d({},t,{shadow:"false",children:[(0,o.jsx)("div",{style:f,children:n}),(0,o.jsx)(l.iA,d({},i))]}))};function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){h(e,t,n[t])}))}return e}var x={display:"block",position:"relative",width:"100%",marginBottom:12},g=function(e){var t=e.cards,n=e.info,i=e.tables;return(0,o.jsxs)(l.Zb,m({},t,{shadow:"false",children:[(0,o.jsx)("div",{style:x,children:n}),(0,o.jsx)(l.iA,m({},i))]}))},j=n(93986),y=n(13983),v=n(5152),_=n(25617),b=n(58742),w=n(894),S=n(87462),C=n(71002),k=n(97685),O=n(50344),z=n(94184),T=n.n(z),I=n(98423),E=n(71428),P=n(59844),N=n(21687),X=n(96159),D=E.Z.Option;function J(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var A=function(e,t){var n,i=e.prefixCls,r=e.className,o=e.children,l=e.dataSource,a=(0,O.Z)(o);if(1===a.length&&(0,X.l$)(a[0])&&!J(a[0])){var c=(0,k.Z)(a,1);n=c[0]}var u,d=n?function(){return n}:void 0;return u=a.length&&J(a[0])?o:l?l.map((function(e){if((0,X.l$)(e))return e;switch((0,C.Z)(e)){case"string":return s.createElement(D,{key:e,value:e},e);case"object":var t=e.value;return s.createElement(D,{key:t,value:t},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],s.useEffect((function(){(0,N.Z)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),(0,N.Z)(!n||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),s.createElement(P.C,null,(function(n){var o=(0,n.getPrefixCls)("select",i);return s.createElement(E.Z,(0,S.Z)({ref:t},(0,I.Z)(e,["dataSource"]),{prefixCls:o,className:T()("".concat(o,"-auto-complete"),r),mode:E.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:d}),u)}))},H=s.forwardRef(A);H.Option=D;var V=H,F=n(36093),W=n(28367);function L(e,t,n,i,r,o,s){try{var l=e[o](s),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(i,r)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){B(e,t,n[t])}))}return e}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var R=(0,v.default)((function(){return Promise.resolve().then(n.bind(n,22242))}),{loadableGenerated:{webpack:function(){return[22242]},modules:["dashboard/clipping/index.js -> components/elements/drawer"]}}),K={tablet:"(max-width: 450px)",ellipsis:"(max-width: 1024px)",tags:"(max-width: 800px)"},U={display:"-webkit-box",maxWidth:"100%",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},q=function(){var e,t,n,i,u=(0,_.I0)(),d=(0,s.useState)(),f=d[0],h=d[1],m=JSON.parse(localStorage.getItem("userToken")),x=(0,_.v9)((function(e){return e.newsClipping})),v=(0,_.v9)((function(e){return e.filter})),S=((0,_.v9)((function(e){return e.issues})),v.filter),C=x.newsClippingList,k=x.issueAuto,O=(0,s.useState)([]),z=O[0],T=O[1],I=(0,s.useState)([]),E=I[0],P=I[1],N=(0,s.useState)(!1),X=N[0],D=N[1],J=(0,s.useState)(!1),A=J[0],H=J[1],B=(0,s.useState)(!1),q=B[0],$=B[1],G=(0,s.useState)(0),Y=G[0],Q=G[1],ee=(0,s.useState)(10),te=ee[0],ne=ee[1],ie=(0,s.useState)(0),re=ie[0],oe=ie[1],se=(0,s.useState)(10),le=se[0],ae=se[1],ce=(0,s.useState)(""),ue=ce[0],de=ce[1],fe=(0,s.useState)(""),pe=fe[0],he=fe[1],me=(0,s.useState)(!1),xe=me[0],ge=me[1],je=(0,s.useState)([]);je[0],je[1];(0,s.useEffect)((function(){(0,c.Z)(K,h)}),[f]),(0,s.useEffect)((function(){u((0,b.rt)()),1198==m.comp_id&&ge(!0)}),[]),(0,s.useEffect)((function(){u((0,b.Dc)(Z({},S.result,{maxSize:10,page:0})))}),[S]);var ye=(0,s.useState)("checkbox"),ve=ye[0],_e=(ye[1],(0,s.useState)(!1)),be=_e[0],we=_e[1],Se=(0,s.useState)(!1),Ce=Se[0],ke=Se[1],Oe=(0,s.useState)(!1),ze=Oe[0],Te=Oe[1],Ie=(0,s.useState)(!1),Ee=Ie[0],Pe=Ie[1],Ne=(0,s.useState)(!0),Xe=Ne[0],De=(Ne[1],(0,s.useState)(!0)),Je=De[0],Ae=De[1],He=(0,s.useState)(!1),Ve=He[0],Fe=He[1],We=(0,s.useState)({}),Le=We[0],Be=We[1],Ze=(0,s.useState)({}),Me=Ze[0],Re=Ze[1],Ke=(0,s.useState)(""),Ue=Ke[0],qe=Ke[1],$e=(0,s.useState)(""),Ge=$e[0],Ye=$e[1],Qe=(0,s.useState)(""),et=Qe[0],tt=Qe[1],nt=(0,s.useState)([]),it=nt[0],rt=nt[1];(0,s.useEffect)((function(){setTimeout((function(){Ae(!1)}),500)}),[Je]);var ot,st=(0,s.useMemo)((function(){return"https://ojk.media-insight.id"===(window.location.origin?window.location.origin:"")}),[]),lt=(ot=r().mark((function e(t,n,i,o,s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Fe(!0),Me.title==t){e.next=7;break}return e.next=6,(0,b._$)({category_id:Me.category_id,article_id:Me.article_id,title:t});case 6:e.sent;case 7:return e.next=9,(0,b.M9)({category_id:Me.category_id,article_id:Me.article_id,tone:n});case 9:if(e.sent,Me.summary==i){e.next=14;break}return e.next=13,(0,b.k5)({category_id:Me.category_id,article_id:Me.article_id,summary:i});case 13:e.sent;case 14:if(Me.issue==o){e.next=18;break}return e.next=17,(0,F.V)({article_id:[Me.article_id],topic:[Me.issue],new_topic:o});case 17:e.sent;case 18:return e.next=20,(0,b.yz)({article_id:Me.article_id,category_ids:Me.categories,datee:Me.datee.split(" ")[0],media_id:Me.media_id,tone:Me.tone,advalue_fc:Me.rate_fc,circulation:Me.circulation,advalue_bw:Me.rate_bw});case 20:if(e.sent,!Me.sponsor){e.next=25;break}return e.next=24,(0,b.cK)({article_ids:[Me.article_id],sponsor_ids:Me.sponsor.map((function(e){return e.id}))});case 24:e.sent;case 25:ke(!1),Re({}),Te(!1),u((0,b.Dc)(Z({},S.result,{maxSize:le,page:re}))),Fe(!1),l.t6.success({message:"Data has been Updated",duration:3}),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),l.t6.error({message:"Please check your update request!!",duration:3});case 36:case"end":return e.stop()}}),e,null,[[0,33]])})),function(){var e=this,t=arguments;return new Promise((function(n,i){var r=ot.apply(e,t);function o(e){L(r,n,i,o,s,"next",e)}function s(e){L(r,n,i,o,s,"throw",e)}o(void 0)}))}),at=function(e){var t=JSON.parse(localStorage.getItem("userToken"));(0,b.Tf)({doc_type:e,logo_name:t.comp_icon,articles:z}).then((function(e){return e.json()})).then((function(e){200==e.code&&(window.open(e.data.link),T([]))})).catch((function(e){return console.log(e)}))},ct=function(e){(0,b.r8)({category_id:E.map((function(e){return e.category_id})),article_id:E.map((function(e){return e.article_id})),tone:e}).then((function(e){return e.json()})).then((function(e){200==e.code&&(u((0,b.e9)(Z({},C.result,{data:C.result.data.map((function(t){return e.data.length?e.data.find((function(e){return e.article_id==t.article_id}))?Z({},t,e.data.find((function(e){return e.article_id==t.article_id}))):t:e.data.article_id==t.article_id?Z({},t,e.data):t}))}))),P([]))})).catch((function(e){return console.log(e)}))},ut=function(e){(0,b.jX)("edit"==e?E.map((function(e){return{article_id:e.article_id}})):z.map((function(e){return{article_id:e.article_id}}))).then((function(e){return e.json()})).then((function(t){200==t.code&&(u((0,b.Dc)(Z({},S.result,{maxSize:le,page:re}))),"edit"==e?(P([]),l.t6.success({message:"Article from ".concat(E.map((function(e){return e.media_name}))," has been delete"),duration:3})):(T([]),l.t6.success({message:"Article from ".concat(z.map((function(e){return e.media_name}))," has been delete"),duration:3})))})).catch((function(e){return console.log(e)}))},dt=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.zx,{type:"dashed",icons:"ScanOutlined",onClick:function(){return at(0)},children:"Scan File"}),(0,o.jsx)(l.zx,{type:"dashed",icons:"FileWordOutlined",onClick:function(){var e=JSON.parse(localStorage.getItem("userToken"));(0,b.eq)({logo_name:e.comp_icon,articles:z}).then((function(e){return e.json()})).then((function(e){200==e.code&&(window.open(e.data),T([]))})).catch((function(e){return console.log(e)}))},children:"Word File"}),(0,o.jsx)(l.zx,{type:"dashed",icons:"PrinterOutlined",onClick:function(){return at(1)},children:"Print File"})]}),ft=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.zx,{onClick:function(){return ct(1)},children:"Positive"}),(0,o.jsx)(l.zx,{onClick:function(){return ct(0)},children:"Neutral"}),(0,o.jsx)(l.zx,{onClick:function(){return ct(-1)},children:"Negative"})]}),pt=function(e){(0,b.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(t){rt(t.data),Be(e),we(!0)})).catch((function(e){return console.log(e)}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.li,{style:{height:"100%"},tabPosition:"top",data:[{key:1,title:"News Clipping",content:(0,o.jsx)(p,{cards:{onLoading:C.loading},info:(0,o.jsxs)(l.X2,{justify:"space-between",align:"middle",children:[(0,o.jsx)(l.JX,{span:24,children:(0,o.jsxs)(l.X2,{align:"middle",justify:"start",children:[(0,o.jsx)(l.JX,{flex:"200px",children:(0,o.jsx)(l.II,{size:"small",placeholder:"search",defaultValue:Ge,onChange:function(e){return Ye(e.target.value)}})}),(0,o.jsx)(l.JX,{flex:"auto",children:(0,o.jsx)(l.zx,{size:"small",type:"primary",icons:"SearchOutlined",onClick:function(){u((0,b.Dc)(Z({},S.result,{page:0,maxSize:10,term:Ge})))}})})]})}),(0,o.jsx)(l.JX,{flex:100,children:(0,o.jsxs)("label",{style:{textTransform:"capitalize"},children:["article found: ",z.length," /"," ",C.result.recordsTotal||0]})}),(0,o.jsx)(l.JX,{flex:"auto",children:(0,o.jsxs)(l.T,{children:[(0,o.jsx)(l.zx,{type:"dashed",icons:"MailOutlined",disabled:z.length<=0?Xe:null,onClick:function(){$(!0)},children:"Email File"}),(0,o.jsx)(l.Lt,{overlay:dt,direction:"horizontal",trigger:"click",placement:"bottomCenter",disabled:z.length<=0?Xe:null,children:(0,o.jsx)(l.zx,{block:"true",icons:"DownloadOutlined",onClick:function(e){return e.preventDefault()},children:"Download"})}),(0,o.jsx)(l.gn,{title:"Are you sure to delete this?",onConfirm:function(){return ut("clip")},onCancel:function(){T([])},children:(0,o.jsx)(l.zx,{disabled:z.length<=0?Xe:null,icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})})]}),tables:{data:C.result.data?C.result.data:[],pagination:{showSizeChanger:!0,total:C.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:Y+1,pageSize:te,onChange:function(e,t){u((0,b.Dc)(Z({},S.result,{page:e-1,maxSize:t,term:Ge||void 0}),Q(e-1),ne(t)))}},rowSelection:{type:"checkbox",onSelectAll:function(e,t,n){if(e){var i=z.filter((function(e){return!n.find((function(t){return e.article_id==t.article_id}))}));T(i.concat(n))}else{var r=z.filter((function(e){return!n.find((function(t){return e.article_id==t.article_id}))}));T(r)}},onSelect:function(e,t,n,i){var r=z.find((function(t){return t.article_id==e.article_id}))?z.filter((function(t){return t.article_id!==e.article_id})):M(z).concat([e]);T(r)},getCheckboxProps:function(e){return{rowKey:e.article_id}},selectedRowKeys:z.map((function(e){return e.article_id}))},rowKey:function(e){return e.article_id},expandable:{expandedRowRender:function(e){return(0,o.jsxs)("div",{style:{padding:"0 4px"},children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:e.title}),(0,o.jsxs)("p",{style:{fontWeight:500,marginBottom:3},children:["Issue:",(0,o.jsx)("span",{style:{fontWeight:"normal",marginLeft:3},children:(0,o.jsx)(l.Vp,{icons:"InfoCircleOutlined",color:null!=e.issue?"processing":"",children:(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:null!=e.issue?e.issue:"undifined"})})})]}),(0,o.jsxs)("p",{style:Z({},U,{textAlign:"justify"}),children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Content:"}),e.content]}),xe&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Sponsorship:"}),e.sponsor.map((function(e){return(0,o.jsx)(l.Vp,{icons:"InfoCircleOutlined",children:e.name},e.id)}))]})]})},rowExpandable:function(e){return"Not Expandable"!==e.media_name}},column:[{title:"Clipping List",render:function(e){return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(l.TH,{title:"Date",content:e.datee}),(0,o.jsx)(l.TH,{title:"Media",content:e.media_name}),(0,o.jsx)(l.TH,{bold:!0,title:"headline",ellipsis:!0,content:e.title}),(0,o.jsxs)(l.TH,{title:"action",type:"action",children:[(0,o.jsx)(l.zx,{size:"small",icons:"EditTwotone",onClick:function(){pt(e)}}),(0,o.jsx)(l.zx,{size:"small",type:"action",icons:"FileSyncOutlined",onClick:function(){return window.open(e.preview_link)}})]})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",width:160,responsive:["md"],sorter:function(e,t){return e.datee-t.datee}},{title:"Media",dataIndex:"media_name",width:200,responsive:["md"],sorter:function(e,t){return e.media_name.length-t.media_name.length},render:function(e,t){return(0,o.jsx)("a",{href:t.file_pdf,onClick:function(e){e.preventDefault(),window.open("pdf"==t.file_pdf.split(".")[1]?(st?"https://api.media-insight.id/media/pdf_images/":"https://api.digivla.id/media/pdf_images/")+t.datee.split(" ")[0].split("-").join("/")+"/"+t.file_pdf:t.file_pdf)},children:e})}},{title:"Headline",dataIndex:"title",ellipsis:"ellipsis"==f,responsive:["md"]},{title:"Issue",dataIndex:"issue",width:100,responsive:["md"],sorter:function(e,t){return e.issue-t.issue}},{title:"Action",key:"action",width:90,align:"center",responsive:["md"],render:function(e,t){return(0,o.jsxs)(l.TH,{type:"action",children:[(0,o.jsx)(l.u,{title:"edit article",placement:"left",children:(0,o.jsx)(l.zx,{size:"small",icons:"EditOutlined",onClick:function(){pt(t)}})}),(0,o.jsx)(l.u,{title:"preview article",placement:"left",children:(0,o.jsx)(l.zx,{size:"small",icons:"FileSyncOutlined",onClick:function(){return window.open(t.preview_link)}})})]})}}]}})},{key:2,title:"News Editing",content:(0,o.jsx)(g,{cards:{onLoading:C.loading},info:(0,o.jsxs)(l.X2,{justify:"space-between",align:"middle",children:[(0,o.jsx)(l.JX,{span:24,children:(0,o.jsxs)(l.X2,{align:"middle",justify:"start",children:[(0,o.jsx)(l.JX,{flex:"200px",children:(0,o.jsx)(l.II,{size:"small",placeholder:"search",defaultValue:et,onChange:function(e){return tt(e.target.value)}})}),(0,o.jsx)(l.JX,{flex:"auto",children:(0,o.jsx)(l.zx,{size:"small",type:"primary",icons:"SearchOutlined",onClick:function(){u((0,b.Dc)(Z({},S.result,{page:0,maxSize:10,term:et})))}})})]})}),(0,o.jsx)(l.JX,{flex:100,children:(0,o.jsxs)("label",{style:{textTransform:"capitalize"},children:["article found: ",E.length," /"," ",C.result.recordsTotal]})}),(0,o.jsx)(l.JX,{flex:"auto",children:(0,o.jsxs)(l.T,{children:[(0,o.jsx)(l.zx,{block:"true",type:"primary",disabled:E.length<=0?Xe:null,onClick:function(){D(!0),de("")},icons:"InfoCircleOutlined",children:"tablet"!=f?(0,o.jsx)(o.Fragment,{children:"Issue"}):""}),(0,o.jsx)(l.u_,{title:"Create Issue",visible:X,footer:[(0,o.jsx)(l.zx,{type:"primary",onClick:function(){(0,b.Nu)({article_id:E.map((function(e){return e.article_id})),date:E.map((function(e){return e.datee})),title:E.map((function(e){return e.title})),media_id:E.map((function(e){return e.media_id})),category_id:E.map((function(e){return e.category_id})),topic:ue}).then((function(e){return e.json()})).then((function(e){return l.t6.success({message:"Success add issue"}),(0,F.V)({article_id:E.map((function(e){if(e.issue)return e.article_id})).filter((function(e){return e})),new_topic:ue})})).then((function(e){return e.json()})).then((function(e){D(!1),P([]),l.t6.success({message:"Success edit issue"}),u((0,b.Dc)(Z({},S.result,{maxSize:le,page:re,term:et})))})).catch((function(e){return console.log(e)}))},children:"Submit"},"submit"),(0,o.jsx)(l.zx,{type:"dashed",danger:"true",onClick:function(){D(!1)},children:"Cancel"},"back")],children:(0,o.jsx)(l.X2,{children:(0,o.jsxs)(l.JX,{span:24,children:[(0,o.jsx)("label",{htmlFor:"Input",children:"Issue"}),(0,o.jsx)(V,{options:null===(e=k.result.data)||void 0===e?void 0:e.map((function(e){return{value:e}})),onSelect:function(e){return de(e)},onChange:function(e){return de(e)},style:{width:"100%"},placeholder:"Issue Name",id:"influencer_name",filterOption:function(e,t){return-1!==(null===t||void 0===t?void 0:t.value.toUpperCase().indexOf(e.toUpperCase()))}})]})})}),(0,o.jsx)(l.Lt,{overlay:ft,direction:"horizontal",trigger:"click",placement:"bottomCenter",disabled:E.length<=0?Xe:null,children:(0,o.jsx)(l.zx,{block:"true",icons:"CheckCircleOutlined",onClick:function(e){return e.preventDefault()},children:"Update Tone"})}),(0,o.jsx)(l.gn,{title:"Are you sure to delete this?",onConfirm:function(){return ut("edit")},onCancel:function(){P([])},children:(0,o.jsx)(l.zx,{disabled:E.length<=0?Xe:null,icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})})]}),tables:{data:C.result.data,pagination:{showSizeChanger:!0,total:C.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:re+1,pageSize:le,onChange:function(e,t){u((0,b.Dc)(Z({},S.result,{page:e-1,maxSize:t,term:et||void 0}),oe(e-1),ae(t)))}},rowSelection:{type:ve,onChange:function(e,t){P(t)},getCheckboxProps:function(e){return{rowKey:e.article_id}},selectedRowKeys:E.map((function(e){return e.article_id}))},rowKey:function(e){return e.article_id},expandable:{expandedRowRender:function(e){return(0,o.jsxs)("div",{style:{padding:"0 4px"},children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:e.title}),(0,o.jsxs)("p",{style:{fontWeight:500,marginBottom:3},children:["Tone:",(0,o.jsx)("span",{style:{fontWeight:"normal",marginLeft:3},children:(0,o.jsx)(l.Vp,{icons:"InfoCircleOutlined",color:1==e.tone?"success":-1==e.tone?"error":"processing",children:1==e.tone?"Positive":-1==e.tone?"Negative":"Neutral"})})]}),(0,o.jsxs)("p",{style:{fontWeight:500,marginBottom:3},children:["Issue:",(0,o.jsx)("span",{style:{fontWeight:"normal",marginLeft:3},children:(0,o.jsx)(l.Vp,{icons:"InfoCircleOutlined",color:null!=e.issue?"processing":"",children:(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:null!=e.issue?e.issue:"undifined"})})})]}),(0,o.jsxs)("p",{style:Z({},U,{textAlign:"justify"}),children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Content:"}),e.content]}),xe&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:500,marginBottom:3},children:"Sponsorship:"}),e.sponsor.map((function(e){return(0,o.jsx)(l.Vp,{icons:"InfoCircleOutlined",children:e.name},e.id)}))]})]})},rowExpandable:function(e){return"Not Expandable"!==e.media_name}},column:[{title:"Clipping List",render:function(e){return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(l.TH,{title:"Date",ellipsis:!0,content:e.datee}),(0,o.jsx)(l.TH,{title:"Media",ellipsis:!0,content:e.media_name}),(0,o.jsx)(l.TH,{title:"Issue",ellipsis:!0,content:e.issue}),(0,o.jsx)(l.TH,{title:"Tone",ellipsis:!0,content:(0,o.jsx)(l.Vp,{icons:"InfoCircleOutlined",color:1==e.tone?"success":-1==e.tone?"error":"processing",children:1==e.tone?"Positive":-1==e.tone?"Negative":"Neutral"})}),(0,o.jsx)(l.TH,{title:"action",type:"action",children:(0,o.jsx)(l.zx,{size:"small",icons:"EditOutlined",onClick:function(){ke(!0)}})})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",width:150,responsive:["md"],sorter:function(e,t){return e.datee-t.datee}},{title:"Media",dataIndex:"media_name",width:"25%",sorter:function(e,t){return e.media_name.length-t.media_name.length},responsive:["md"],filters:[{text:"Negative",value:-1},{text:"Neutral",value:0},{text:"Positive",value:1}],onFilter:function(e,t){return t.tone==e},render:function(e,t){return(0,o.jsxs)("span",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,o.jsx)(l.Vp,{size:"small",color:1==t.tone?"success":-1==t.tone?"error":"processing",children:1==t.tone?"Positive":-1==t.tone?"Negative":"Neutral"}),(0,o.jsx)("a",{href:t.file_pdf,onClick:function(e){e.preventDefault(),window.open("pdf"==t.file_pdf.split(".")[1]?(st?"https://api.media-insight.id/media/pdf_images/":"https://api.digivla.id/media/pdf_images/")+t.datee.split(" ")[0].split("-").join("/")+"/"+t.file_pdf:t.file_pdf)},children:e})]})}},{title:"Headline",dataIndex:"title",width:"50%",responsive:["md"],ellipsis:!0,render:function(e,t){return(0,o.jsxs)(o.Fragment,{children:[t.flags&&(0,o.jsx)(l.u,{title:"user change this article tone",children:(0,o.jsx)(l.JO,{style:{marginRight:3,color:"#1990ff"},type:"InfoCircleOutlined"})}),t.title]})}},{title:"Issue",dataIndex:"issue",key:"issue",width:100,responsive:["lg"],render:function(e,t){return(0,o.jsx)(l.Vp,{color:null!=e?"processing":"primary",children:(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:null!=e?e:"issue"})})}},{title:"Action",key:"action",width:90,align:"center",responsive:["md"],render:function(e,t){return(0,o.jsx)(l.TH,{type:"action",children:(0,o.jsx)(l.u,{title:"edit article",placement:"left",children:(0,o.jsx)(l.zx,{size:"small",icons:"EditOutlined",onClick:function(){return t.article_id,e=t,void(0,b.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(t){rt(t.data),Re(e),ke(!0)})).catch((function(e){return console.log(e)}));var e}})})})}}]}})}].filter((function(e){return 1!=JSON.parse(localStorage.getItem("userToken")).usr_comp_level||2!=e.key}))}),(0,o.jsx)(l.u_,{visible:q,footer:[(0,o.jsx)(l.zx,{type:"dashed",danger:"true",onClick:function(){$(!1)},children:"cancel"},"cancel"),(0,o.jsx)(l.zx,{type:"primary",onClick:function(){var e;(e=Ue)?(0,b.L5)({data:z.map((function(e){return{article_id:e.article_id,category_id:e.category_id}})),email:e}).then((function(e){return e.json()})).then((function(){T([]),$(!1),qe(""),l.t6.success({message:"E-mail has been send"})})):l.t6.error({message:"E-mail address is Empty!!!"})},children:"Send"},"submit")],children:(0,o.jsx)(l.X2,{children:(0,o.jsxs)(l.JX,{span:24,children:[(0,o.jsx)("p",{children:"If more than 1 email is to be sent then use a comma (,) to separate the email. Examples: abc@mail.com, def@mail.com"}),(0,o.jsx)("label",{htmlFor:"input",children:"E-mail"}),(0,o.jsx)(l.II,{type:"textarea",onChange:function(e){return qe(e.target.value)},defaultValue:Ue})]})})}),(0,o.jsx)(l.u_,{visible:A,title:Me.issue,footer:[(0,o.jsx)(l.zx,{type:"dashed",danger:"true",onClick:function(){H(!1)},children:"cancel"},"cancel"),(0,o.jsx)(l.zx,{type:"primary",onClick:function(){return e=pe,void(0,F.V)({article_id:Me.article_id,topic:Me.issue,new_topic:e}).then((function(e){return e.json()})).then((function(t){200==t.code&&(u((0,b.Dc)(Z({},S.result,{maxSize:le,page:re}))),P([]),he(""),l.t6.success({message:"Issue from ".concat(Me.article_id," has been update"),description:"Old Issue: ".concat(Me.issue," <br/> New Issue: ").concat(e)}))})).catch((function(e){console.log(e),P([]),he(""),l.t6.error({message:"Please check your update request"})}));var e},children:"Submit"},"submit")],children:(0,o.jsx)(l.II,{onChange:function(e){return he(e.target.value)},value:pe,defaultValue:Me.issue})}),(0,o.jsx)(R,{title:Le.title,placement:"right",visible:be,onClose:function(){we(!1)},children:(0,o.jsxs)(l.X2,{children:[(0,o.jsxs)(l.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,o.jsx)(l.TH,{bold:!0,title:"date",content:Le.datee}),(0,o.jsx)(l.TH,{bold:!0,title:"media",content:(0,o.jsx)(l.zx,{type:"link",target:"_BLANK",href:Le.preview_link,children:Le.media_name})}),(0,o.jsx)(l.TH,{bold:!0,title:"sentiment",content:(0,o.jsx)(l.Vp,{children:1==Le.tone?"Positive":-1==Le.tone?"Negative":"Neutral"})})]}),(0,o.jsxs)(l.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,o.jsx)(l.TH,{bold:!0,title:"news value",content:(0,a.v)(Le.advalue_bw)}),(0,o.jsx)(l.TH,{bold:!0,title:"ad value",content:(0,a.v)(Le.advalue_fc)})]}),xe&&(0,o.jsx)(l.JX,{span:24,children:(0,o.jsx)(l.TH,{bold:!0,ellipsis:!0,title:"Sponsorship:",content:null===(t=Le.sponsor)||void 0===t?void 0:t.map((function(e){return(0,o.jsx)(l.Vp,{children:e.name},e.id)}))})}),ze?(0,o.jsx)(l.JX,{span:24,children:(0,o.jsx)(j.Z,{options:y.cq})}):(0,o.jsx)(s.Fragment,{children:(0,o.jsxs)(l.JX,{span:24,children:["p4"==(null===(n=Le.file_pdf)||void 0===n?void 0:n.split(".m")[1])&&(0,o.jsx)("video",{src:Le.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,W.p)(it,Le.content)}})]})}),(0,o.jsx)(l.JX,{span:24,children:null===(i=Le.categories)||void 0===i?void 0:i.map((function(e){return(0,o.jsx)(l.u,{title:e,children:(0,o.jsx)(l.Vp,{style:{margin:3},color:"processing",children:e})},e)}))})]})}),Ce?(0,o.jsx)(w.Z,{setclipEditingPop:ke,setEditingDrawerTemp:Re,clipEditingPop:Ce,editingDrawerTemp:Me,handleSubmitEditingModal:lt,summaryEdit:Ee,setsummaryEdit:Pe,setsaveArticlePop:Te,saveArticlePop:ze,buttonLoading:Ve,setbuttonLoading:Fe,keyword:it,sponsor:xe&&(0,o.jsx)(l.JX,{span:24,children:(0,o.jsx)(l.TH,{bold:!0,ellipsis:!0,title:"Sponsorship:",content:Me.sponsor.map((function(e){return(0,o.jsx)(l.Vp,{children:e.name},e.id)}))})}),sponsorCol:xe}):null]})}}},function(e){e.O(0,[840,89,774,888,179],(function(){return t=5203,e(e.s=t);var t}));var t=e.O();_N_E=t}]);