(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{55830:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/geospatial",function(){return n(93883)}])},63820:function(e,t,n){"use strict";var r=n(85893),i=n(36084),o=n(86031),l=n(93986),a=n(67294),c=n(90063),s=n(28367);t.Z=function(e){var t,n,u=e.clippingDrawer,d=e.setClippingDrawer,p=e.clipListPop,f=e.setclipListPop,g=e.saveArticlePop,h=e.keyword;return(0,r.jsx)(o.dy,{title:u.title,placement:"right",visible:p,onClose:function(){f(!1),d({})},children:(0,r.jsxs)(o.X2,{children:[(0,r.jsxs)(o.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,r.jsx)(o.TH,{bold:!0,title:"date",content:u.datee}),(0,r.jsx)(o.TH,{bold:!0,title:"media",content:(0,r.jsx)(o.zx,{type:"link",target:"_BLANK",children:u.media_name})}),(0,r.jsx)(o.TH,{bold:!0,title:"sentiment",content:(0,r.jsx)(o.Vp,{children:1==u.tone?"Positive":-1==u.tone?"Negative":"Neutral"})})]}),(0,r.jsxs)(o.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,r.jsx)(o.TH,{bold:!0,title:"news value",content:(0,c.m6)(u.rate_bw)}),(0,r.jsx)(o.TH,{bold:!0,title:"ad value",content:(0,c.m6)(u.rate_fc)})]}),g?(0,r.jsx)(o.JX,{span:24,children:(0,r.jsx)(l.Z,{options:saveArticleSeries})}):(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)(o.JX,{span:24,children:["p4"==(null===(t=u.file_pdf)||void 0===t?void 0:t.split(".m")[1])&&(0,r.jsx)("video",{src:u.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,s.p)(h,u.content)}})]})}),(0,r.jsx)(o.JX,{span:24,children:null===(n=u.categories)||void 0===n?void 0:n.map((function(e){return(0,r.jsx)(i.Z,{title:e,children:(0,r.jsx)(o.Vp,{style:{margin:3},color:"processing",children:e})},e)}))})]})})}},73939:function(e,t,n){"use strict";var r=n(85893),i=n(86031),o=n(56673),l=n(63820),a=n(67294),c=n(58742);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var d={padding:10,maxHeight:"100%",minHeight:100},p={display:"-webkit-box",maxWidth:"100%",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"};t.Z=function(e){var t=e.data,n=e.modal,s=e.pagination,f=e.onLoading,g=(e.onDetailClick,e.selfOnClick),h=(0,a.useState)({}),x=h[0],j=h[1],m=(0,a.useState)(!1),v=m[0],y=m[1],b=(0,a.useState)(!1),_=b[0],w=b[1],k=(0,a.useState)(),O=k[0],S=k[1],P=function(){return(0,r.jsx)(l.Z,{clippingDrawer:x,setClippingDrawer:j,clipListPop:v,setclipListPop:y,saveArticlePop:_,setsaveArticlePop:w,keyword:O})};return(0,r.jsxs)(i.u_,u({bodyStyle:d,closable:!0,onCancel:n.close,footer:(0,r.jsx)(o.Z,u({size:"small"},s))},n,{children:[(0,r.jsxs)("div",{style:{minHeight:100,maxHeight:"50vh",overflowY:"scroll"},children:[1==f&&(0,r.jsx)(i.gb,{}),t.length>0?t.map((function(e,t){return(0,r.jsx)(i.TH,{style:{background:t%2==0?"rgba(54, 65, 76, 0.1)":null,paddingLeft:6,paddingRight:6,paddingTop:8,paddingBottom:8,marginBottom:12},onClick:function(){g||(0,c.Mr)({article_id:e.id}).then((function(e){return e.json()})).then((function(t){S(t.data),j(e.detail),y(!0)})).catch((function(e){return console.log(e)}))},ellipsis:!0,title:(0,r.jsx)("a",{style:{color:"#1990ff",fontWeight:600},children:e.title}),content:(0,r.jsx)(i.X2,{gutter:[0],children:(0,r.jsxs)(i.JX,{span:24,children:[(0,r.jsxs)("div",{style:{margin:"5px 0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)("div",{style:{fontWeight:600},children:e.detail.media_name.length>0?e.detail.media_name:"undifined"}),(0,r.jsx)("div",{children:e.detail.datee.length>0?e.detail.datee.split("T").join(" "):"undifined"})]}),(0,r.jsx)("div",{style:p,children:e.content})]})})},e.id)})):(0,r.jsx)("div",{style:{minHeight:300,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(i.HY,{})})]}),(0,r.jsx)(P,{})]}))}},93883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85893),i=function(e){var t=e.children;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"GeoLayout"}),t]})},o=n(25617),l=n(67294),a=n(5152),c=n(86031),s=n(13983),u=n(69412),d=n(28367),p=function(e){var t,n=e.articleDetail,i=e.openDetail,o=e.setopenDetail,l=e.setarticleDetail,a=e.keyword;return(0,r.jsx)(c.dy,{title:n.title,placement:"right",visible:i,onClose:function(){o(!1),l({})},children:(0,r.jsxs)(c.X2,{children:[(0,r.jsxs)(c.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,r.jsx)(c.TH,{title:"news date:",content:n.datee}),(0,r.jsx)(c.TH,{title:"Jurnalist:",content:n.journalist}),(0,r.jsx)(c.TH,{title:"media type:",content:n.media_type}),(0,r.jsx)(c.TH,{title:"location:",content:n.location})]}),(0,r.jsxs)(c.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,r.jsx)(c.TH,{title:"news value:",content:"".concat(n.rate_bw)}),(0,r.jsx)(c.TH,{title:"ad value:",content:"".concat(n.rate_fc)}),(0,r.jsx)(c.TH,{title:"sentiment:",content:(0,r.jsx)(c.Vp,{style:{margin:0},color:"Positive"==n.tone?"success":"Negative"==n.tone?"error":"processing",children:n.tone})})]}),(0,r.jsx)(c.JX,{span:24,children:(0,r.jsx)(c.X2,{children:(0,r.jsxs)(c.JX,{span:24,children:["mp4"==(null===(t=n.file_pdf)||void 0===t?void 0:t.split(".")[1])&&(0,r.jsx)("video",{src:"https://input.digivla.id/media_tv/"+n.file_pdf.split("-")[0]+"/"+n.file_pdf.split("-")[1]+"/"+n.file_pdf.split("-")[2]+"/"+n.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,d.p)(a,n.content)}})]})})}),(0,r.jsx)(c.JX,{span:24,children:(0,r.jsx)(c.Vp,{color:"processing",children:n.category_id})})]})})},f=n(73939);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var x=function(e){var t=e.articleData,n=e.openList,i=e.geoList,l=e.handleCancel,a=e.handleDetail,c=e.setarticleData,s=e.defaultFilter,d=(0,o.I0)(),p=(0,o.v9)((function(e){return e.filter})).filter;return(0,r.jsx)(f.Z,{selfOnClick:!0,modal:{title:"Article of ".concat(t.key),visible:n&&!i.loading,closeable:!0,onCancel:l},data:i.result.data?i.result.data.map((function(e){return{id:e.article_id,title:(0,r.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return a(e.article_id,e)},children:e.title}),detail:e}})):[],pagination:{showSizeChanger:!0,total:i.result.recordsTotal||0,showTotal:function(e){return"Total ".concat(i.result.recordsTotal||0," article")},defaultPageSize:t.max_size,defaultCurrent:t.page+1,onChange:function(e,n){d((0,u.YH)(h({},s,{page:e-1,max_size:n,geo_loc:t.key},p.result))),c(h({},t,{page:e-1,max_size:n}))}}})},j=n(58742);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}var y=(0,a.default)((function(){return Promise.all([n.e(898),n.e(414),n.e(688)]).then(n.bind(n,2688))}),{loadableGenerated:{webpack:function(){return[2688]},modules:["geospatial/index.js -> modules/dcc/geo"]},ssr:!1}),b=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.filter})),n=(0,o.v9)((function(e){return e.geo})),i=t.filter,a=n.geo,d=n.geoList,f=(0,l.useState)(!1),g=f[0],h=f[1],m=(0,l.useState)({}),b=m[0],w=m[1],k=(0,l.useState)(!1),O=k[0],S=k[1],P=(0,l.useState)({}),T=P[0],H=P[1],C=(0,l.useState)([]),D=C[0],X=C[1],J=(0,l.useState)(!1),L=J[0],N=J[1],E=(0,l.useState)(!1),I=E[0],Y=E[1],z=(0,l.useState)(""),Z=z[0],M=z[1],V=(0,l.useState)({type_location:"article"}),A=V[0],B=V[1];(0,l.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userToken"));(0,u.yZ)({client_id:t.client_id}).then((function(e){return e.json()})).then((function(t){"registered"==t.message&&(N(!0),e((0,u.Vp)(v({},A,i.result)))),Y(!0)})).catch((function(e){return console.log(e)}))}),[i,A]);s.US;var W=function(t,n){h(!0),e((0,u.YH)(v({},A,{page:0,max_size:10,geo_loc:t},i.result))),w(v({key:t},n,{page:0,max_size:10}))};return(0,r.jsx)(c.Zb,{title:"Geospatial by ".concat(A.type_location),onLoading:!I,extra:L?(0,r.jsx)(c.Ph,{placeholder:"type location",defaultValue:A.type_location,optionFilterProp:"children",onChange:function(e){B(v({},A,{type_location:e}))},options:[{value:"article",label:"Article"},{value:"media",label:"Media"}]}):null,children:L?(0,r.jsxs)(c.X2,{align:"middle",justify:"center",style:{minHeight:500},children:[(0,r.jsx)(c.JX,{xs:24,sm:24,md:24,lg:24,xl:16,children:(0,r.jsx)(c.X2,{align:"bottom",justify:"center",style:{minHeight:500},children:(0,r.jsx)(c.JX,{span:24,children:(0,r.jsx)(y,{options:a.result.data?a.result.data:[],clickEvent:function(e,t){W(e)}})})})}),(0,r.jsx)(c.JX,{xs:24,sm:24,md:24,lg:24,xl:8,children:(0,r.jsx)(c.Zb,{title:"Top City",onLoading:a.loading,extra:a.result.top_location?"Total Article: ".concat(a.result.top_location.total_top_location_article):null,children:a.result.top_location?a.result.top_location.location.map((function(e,t){return(0,r.jsx)(c.TH,{style:_(t),title:(0,r.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return W(e.key,e)},children:e.key}),content:e.value},t)})):null})}),(0,r.jsx)(x,{articleData:b,openList:g,geoList:d,handleCancel:function(e){h(!1),w({})},handleDetail:function(e,t){(0,j.Mr)({article_id:t.article_id}).then((function(e){return e.json()})).then((function(e){H(t),X(e.data),S(!0)})).catch((function(e){return console.log(e)}))},setarticleData:w,defaultFilter:A}),(0,r.jsx)(p,{openDetail:O,setopenDetail:S,articleDetail:T,setarticleDetail:H,keyword:D})]}):(0,r.jsxs)(c.X2,{align:"middle",children:[(0,r.jsx)(c.JX,{children:"Please select date for backtrack:"}),(0,r.jsxs)(c.JX,{children:[(0,r.jsx)(c.Mt,{onChange:function(e){return M(e.format("YYYY-MM-DD"))}}),(0,r.jsx)(c.zx,{onClick:function(){(0,u.l7)({backtrack_date:Z}).then((function(e){return e.json()})).then((function(t){"client_id is successfully registered"==t.message?(c.t6.success({message:"Success backtrack"}),e((0,u.Vp)(v({},A,i.result))),N(!0)):c.t6.error({message:"Error happen when add backtrack date!"})})).catch((function(e){return c.t6.error({message:"Error happen when add backtrack date!"})}))},children:"Submit"})]})]})})},_=function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",background:e%2?"rgba(54, 65, 76, 0.1)":null,padding:6,marginBottom:6}};b.layout=i;var w=b},69412:function(e,t,n){"use strict";n.d(t,{Vp:function(){return d},YH:function(){return p},yZ:function(){return f},l7:function(){return g}});var r=n(35666),i=n.n(r),o=n(66890),l=n(74034);n(49552);function a(e,t,n,r,i,o,l){try{var a=e[o](l),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function l(e){a(o,r,i,l,c,"next",e)}function c(e){a(o,r,i,l,c,"throw",e)}l(void 0)}))}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var d=function(e){return c(i().mark((function t(n,r){var a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.Yk}),a=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,l.ab)("all-count/",a.token,u({},e,{tone:e.tonee}));case 5:return c=t.sent,t.next=8,c.json();case 8:c=t.sent,n({type:o.LV,result:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:o.Pc,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},p=function(e){return c(i().mark((function t(n,r){var a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.Gq}),a=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,l.ab)("article-by-geo/",a.token,u({},e,{tone:e.tonee}));case 5:return c=t.sent,t.next=8,c.json();case 8:c=t.sent,n({type:o.Iu,result:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:o.rz,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},f=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,l.SD)("geo/get/status/",r.token,e).then((function(e){return t(e)}))}))},g=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,l.SD)("geo/add/",r.token,e).then((function(e){return t(e)}))}))}}},function(e){e.O(0,[840,774,888,179],(function(){return t=55830,e(e.s=t);var t}));var t=e.O();_N_E=t}]);