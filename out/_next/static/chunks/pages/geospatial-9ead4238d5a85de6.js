(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{6953:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/geospatial",function(){return n(93883)}])},63820:function(e,t,n){"use strict";var i=n(85893),r=n(84908),l=n(46097),s=n(93986),o=n(67294),a=n(90063),c=n(28367);t.Z=function(e){var t,n,u=e.clippingDrawer,d=e.setClippingDrawer,p=e.clipListPop,f=e.setclipListPop,h=e.saveArticlePop,g=e.keyword;return(0,i.jsx)(l.dy,{title:u.title,placement:"right",visible:p,onClose:function(){f(!1),d({})},children:(0,i.jsxs)(l.X2,{children:[(0,i.jsxs)(l.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(l.TH,{bold:!0,title:"date",content:u.datee}),(0,i.jsx)(l.TH,{bold:!0,title:"media",content:(0,i.jsx)(l.zx,{type:"link",target:"_BLANK",children:u.media_name})}),(0,i.jsx)(l.TH,{bold:!0,title:"sentiment",content:(0,i.jsx)(l.Vp,{children:1==u.tone?"Positive":-1==u.tone?"Negative":"Neutral"})})]}),(0,i.jsxs)(l.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(l.TH,{bold:!0,title:"news value",content:(0,a.m6)(u.rate_bw)}),(0,i.jsx)(l.TH,{bold:!0,title:"ad value",content:(0,a.m6)(u.rate_fc)})]}),h?(0,i.jsx)(l.JX,{span:24,children:(0,i.jsx)(s.Z,{options:saveArticleSeries})}):(0,i.jsx)(o.Fragment,{children:(0,i.jsxs)(l.JX,{span:24,children:["p4"==(null===(t=u.file_pdf)||void 0===t?void 0:t.split(".m")[1])&&(0,i.jsx)("video",{src:u.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,c.p)(g,u.content)}})]})}),(0,i.jsx)(l.JX,{span:24,children:null===(n=u.categories)||void 0===n?void 0:n.map((function(e){return(0,i.jsx)(r.Z,{title:e,children:(0,i.jsx)(l.Vp,{style:{margin:3},color:"processing",children:e})},e)}))})]})})}},73939:function(e,t,n){"use strict";var i=n(26042),r=n(69396),l=n(85893),s=n(46097),o=n(3698),a=n(63820),c=n(67294),u=n(58742),d={padding:10,maxHeight:"100%",minHeight:100},p={display:"-webkit-box",maxWidth:"100%",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"};t.Z=function(e){var t=e.data,n=e.modal,f=e.pagination,h=e.onLoading,g=(e.onDetailClick,e.selfOnClick),x=(0,c.useState)({}),j=x[0],m=x[1],v=(0,c.useState)(!1),_=v[0],y=v[1],b=(0,c.useState)(!1),k=b[0],w=b[1],S=(0,c.useState)(),Z=S[0],T=S[1],H=function(){return(0,l.jsx)(a.Z,{clippingDrawer:j,setClippingDrawer:m,clipListPop:_,setclipListPop:y,saveArticlePop:k,setsaveArticlePop:w,keyword:Z})};return(0,l.jsxs)(s.u_,(0,r.Z)((0,i.Z)({bodyStyle:d,closable:!0,onCancel:n.close,footer:(0,l.jsx)(o.Z,(0,i.Z)({size:"small"},f))},n),{children:[(0,l.jsxs)("div",{style:{minHeight:100,maxHeight:"50vh",overflowY:"scroll"},children:[1==h&&(0,l.jsx)(s.gb,{}),t.length>0?t.map((function(e,t){return(0,l.jsx)(s.TH,{style:{background:t%2==0?"rgba(54, 65, 76, 0.1)":null,paddingLeft:6,paddingRight:6,paddingTop:8,paddingBottom:8,marginBottom:12},onClick:function(){g||(0,u.Mr)({article_id:e.id}).then((function(e){return e.json()})).then((function(t){T(t.data),m(e.detail),y(!0)})).catch((function(e){return console.log(e)}))},ellipsis:!0,title:(0,l.jsx)("a",{style:{color:"#1990ff",fontWeight:600},children:e.title}),content:(0,l.jsx)(s.X2,{gutter:[0],children:(0,l.jsxs)(s.JX,{span:24,children:[(0,l.jsxs)("div",{style:{margin:"5px 0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsx)("div",{style:{fontWeight:600},children:e.detail.media_name.length>0?e.detail.media_name:"undifined"}),(0,l.jsx)("div",{children:e.detail.datee.length>0?e.detail.datee.split("T").join(" "):"undifined"})]}),(0,l.jsx)("div",{style:p,children:e.content})]})})},e.id)})):(0,l.jsx)("div",{style:{minHeight:300,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(s.HY,{})})]}),(0,l.jsx)(H,{})]}))}},93883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var i=n(26042),r=n(69396),l=n(85893),s=function(e){var t=e.children;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"GeoLayout"}),t]})},o=n(25617),a=n(67294),c=n(5152),u=n.n(c),d=n(46097),p=n(13983),f=n(69412),h=n(28367),g=function(e){var t,n=e.articleDetail,i=e.openDetail,r=e.setopenDetail,s=e.setarticleDetail,o=e.keyword;return(0,l.jsx)(d.dy,{title:n.title,placement:"right",visible:i,onClose:function(){r(!1),s({})},children:(0,l.jsxs)(d.X2,{children:[(0,l.jsxs)(d.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,l.jsx)(d.TH,{title:"news date:",content:n.datee}),(0,l.jsx)(d.TH,{title:"Jurnalist:",content:n.journalist}),(0,l.jsx)(d.TH,{title:"media type:",content:n.media_type}),(0,l.jsx)(d.TH,{title:"location:",content:n.location})]}),(0,l.jsxs)(d.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,l.jsx)(d.TH,{title:"news value:",content:"".concat(n.rate_bw)}),(0,l.jsx)(d.TH,{title:"ad value:",content:"".concat(n.rate_fc)}),(0,l.jsx)(d.TH,{title:"sentiment:",content:(0,l.jsx)(d.Vp,{style:{margin:0},color:"Positive"==n.tone?"success":"Negative"==n.tone?"error":"processing",children:n.tone})})]}),(0,l.jsx)(d.JX,{span:24,children:(0,l.jsx)(d.X2,{children:(0,l.jsxs)(d.JX,{span:24,children:["mp4"==(null===(t=n.file_pdf)||void 0===t?void 0:t.split(".")[1])&&(0,l.jsx)("video",{src:"https://input.digivla.id/media_tv/"+n.file_pdf.split("-")[0]+"/"+n.file_pdf.split("-")[1]+"/"+n.file_pdf.split("-")[2]+"/"+n.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,h.p)(o,n.content)}})]})})}),(0,l.jsx)(d.JX,{span:24,children:(0,l.jsx)(d.Vp,{color:"processing",children:n.category_id})})]})})},x=n(73939),j=function(e){var t=e.articleData,n=e.openList,s=e.geoList,a=e.handleCancel,c=e.handleDetail,u=e.setarticleData,d=e.defaultFilter,p=(0,o.I0)(),h=(0,o.v9)((function(e){return e.filter})).filter;return(0,l.jsx)(x.Z,{selfOnClick:!0,modal:{title:"Article of ".concat(t.key),visible:n&&!s.loading,closeable:!0,onCancel:a},data:s.result.data?s.result.data.map((function(e){return{id:e.article_id,title:(0,l.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return c(e.article_id,e)},children:e.title}),detail:e}})):[],pagination:{showSizeChanger:!0,total:s.result.recordsTotal||0,showTotal:function(e){return"Total ".concat(s.result.recordsTotal||0," article")},defaultPageSize:t.max_size,defaultCurrent:t.page+1,onChange:function(e,n){p((0,f.YH)((0,i.Z)((0,r.Z)((0,i.Z)({},d),{page:e-1,max_size:n,geo_loc:t.key}),h.result))),u((0,r.Z)((0,i.Z)({},t),{page:e-1,max_size:n}))}}})},m=n(58742),v=u()((function(){return Promise.all([n.e(898),n.e(414),n.e(688)]).then(n.bind(n,2688))}),{loadableGenerated:{webpack:function(){return[2688]}},ssr:!1}),_=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.filter})),n=(0,o.v9)((function(e){return e.geo})),s=t.filter,c=n.geo,u=n.geoList,h=(0,a.useState)(!1),x=h[0],_=h[1],b=(0,a.useState)({}),k=b[0],w=b[1],S=(0,a.useState)(!1),Z=S[0],T=S[1],H=(0,a.useState)({}),C=H[0],X=H[1],D=(0,a.useState)([]),J=D[0],L=D[1],P=(0,a.useState)(!1),N=P[0],I=P[1],Y=(0,a.useState)(!1),z=Y[0],O=Y[1],M=(0,a.useState)(""),E=M[0],V=M[1],A=(0,a.useState)({type_location:"article"}),B=A[0],W=A[1];(0,a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userToken"));(0,f.yZ)({client_id:t.client_id}).then((function(e){return e.json()})).then((function(t){"registered"==t.message&&(I(!0),e((0,f.Vp)((0,i.Z)({},B,s.result)))),O(!0)})).catch((function(e){return console.log(e)}))}),[s,B]);p.US;var F=function(t,n){_(!0),e((0,f.YH)((0,i.Z)((0,r.Z)((0,i.Z)({},B),{page:0,max_size:10,geo_loc:t}),s.result))),w((0,r.Z)((0,i.Z)({key:t},n),{page:0,max_size:10}))};return(0,l.jsx)(d.Zb,{title:"Geodata by ".concat(B.type_location),onLoading:!z,extra:N?(0,l.jsx)(d.Ph,{placeholder:"type location",defaultValue:B.type_location,optionFilterProp:"children",onChange:function(e){W((0,r.Z)((0,i.Z)({},B),{type_location:e}))},options:[{value:"article",label:"Article"},{value:"media",label:"Media"}]}):null,children:N?(0,l.jsxs)(d.X2,{align:"middle",justify:"center",style:{minHeight:500},children:[(0,l.jsx)(d.JX,{xs:24,sm:24,md:24,lg:24,xl:16,children:(0,l.jsx)(d.X2,{align:"bottom",justify:"center",style:{minHeight:500},children:(0,l.jsx)(d.JX,{span:24,children:(0,l.jsx)(v,{options:c.result.data?c.result.data:[],clickEvent:function(e,t){F(e)}})})})}),(0,l.jsx)(d.JX,{xs:24,sm:24,md:24,lg:24,xl:8,children:(0,l.jsx)(d.Zb,{title:"Top City",onLoading:c.loading,extra:c.result.top_location?"Total Article: ".concat(c.result.top_location.total_top_location_article):null,children:c.result.top_location?c.result.top_location.location.map((function(e,t){return(0,l.jsx)(d.TH,{style:y(t),title:(0,l.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return F(e.key,e)},children:e.key}),content:e.value},t)})):null})}),(0,l.jsx)(j,{articleData:k,openList:x,geoList:u,handleCancel:function(e){_(!1),w({})},handleDetail:function(e,t){(0,m.Mr)({article_id:t.article_id}).then((function(e){return e.json()})).then((function(e){X(t),L(e.data),T(!0)})).catch((function(e){return console.log(e)}))},setarticleData:w,defaultFilter:B}),(0,l.jsx)(g,{openDetail:Z,setopenDetail:T,articleDetail:C,setarticleDetail:X,keyword:J})]}):(0,l.jsxs)(d.X2,{align:"middle",children:[(0,l.jsx)(d.JX,{children:"Please select date for backtrack:"}),(0,l.jsxs)(d.JX,{children:[(0,l.jsx)(d.Mt,{onChange:function(e){return V(e.format("YYYY-MM-DD"))}}),(0,l.jsx)(d.zx,{onClick:function(){(0,f.l7)({backtrack_date:E}).then((function(e){return e.json()})).then((function(t){"client_id is successfully registered"==t.message?(d.t6.success({message:"Success backtrack"}),e((0,f.Vp)((0,i.Z)({},B,s.result))),I(!0)):d.t6.error({message:"Error happen when add backtrack date!"})})).catch((function(e){return d.t6.error({message:"Error happen when add backtrack date!"})}))},children:"Submit"})]})]})})},y=function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",background:e%2?"rgba(54, 65, 76, 0.1)":null,padding:6,marginBottom:6}};_.layout=s;var b=_},69412:function(e,t,n){"use strict";n.d(t,{Vp:function(){return c},YH:function(){return u},l7:function(){return p},yZ:function(){return d}});var i=n(47568),r=n(26042),l=n(69396),s=n(97582),o=n(66890),a=n(74034),c=(n(49552),function(e){return function(){var t=(0,i.Z)((function(t,n){var i,c,u;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t({type:o.Yk}),i=JSON.parse(localStorage.getItem("userToken")),[4,(0,a.ab)("all-count/",i.token,(0,l.Z)((0,r.Z)({},e),{tone:e.tonee}))];case 1:return[4,(c=n.sent()).json()];case 2:return c=n.sent(),t({type:o.LV,result:c}),[3,4];case 3:return u=n.sent(),t({type:o.Pc,result:u}),[3,4];case 4:return[2]}}))}));return function(e,n){return t.apply(this,arguments)}}()}),u=function(e){return function(){var t=(0,i.Z)((function(t,n){var i,c,u;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t({type:o.Gq}),i=JSON.parse(localStorage.getItem("userToken")),[4,(0,a.ab)("article-by-geo/",i.token,(0,l.Z)((0,r.Z)({},e),{tone:e.tonee}))];case 1:return[4,(c=n.sent()).json()];case 2:return c=n.sent(),t({type:o.Iu,result:c}),[3,4];case 3:return u=n.sent(),t({type:o.rz,result:u}),[3,4];case 4:return[2]}}))}));return function(e,n){return t.apply(this,arguments)}}()},d=function(e){return new Promise((function(t,n){var i=JSON.parse(localStorage.getItem("userToken"));return(0,a.SD)("geo/get/status/",i.token,e).then((function(e){return t(e)}))}))},p=function(e){return new Promise((function(t,n){var i=JSON.parse(localStorage.getItem("userToken"));return(0,a.SD)("geo/add/",i.token,e).then((function(e){return t(e)}))}))}}},function(e){e.O(0,[840,774,888,179],(function(){return t=6953,e(e.s=t);var t}));var t=e.O();_N_E=t}]);