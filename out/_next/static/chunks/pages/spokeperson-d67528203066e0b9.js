(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{21326:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spokeperson",function(){return n(54168)}])},4792:function(e,t,n){"use strict";n.d(t,{$E:function(){return r},ON:function(){return i},X6:function(){return o}});var r={title:{text:"title",align:"left",offsetY:5,floating:!0,style:{fontSize:"14px",fontWeight:400,color:"#263238"}},tooltip:{shared:!1},markers:{size:6,hover:{sizeOffset:0}},stroke:{width:4,lineCap:"butt"},colors:["#06d6a0","#1990ff","#ff6b6b"],legend:{position:"bottom",horizontalAlign:"center",markers:{width:15,height:4,radius:0,offsetY:-2}}},o={chartOptions:{stacked:!0},colors:["#ff6b6b","#1990ff","#06d6a0"],title:{text:"title",align:"left",offsetY:5,floating:!0,style:{fontSize:"14px",fontWeight:400,color:"#263238"}},plotOptions:{bar:{horizontal:!0,borderRadius:6}},xaxis:{categories:["Media A","Media B","Media C","Media D"]},legend:{position:"bottom",horizontalAlign:"center",markers:{width:8,height:8,radius:2,offsetY:0}}},i={chart:{background:"#2b2d3e",sparkline:{enabled:!0}},tooltip:{theme:"dark"},curve:"smooth",options:{grid:{show:!1},yaxis:{show:!0},legend:{show:!1},stroke:{lineCap:"round"}}}},54168:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(26042),o=n(69396),i=n(85893),a=function(e){var t=e.children;return(0,i.jsx)("div",{children:t})},s=n(67294),u=n(18975),c=n(3698),l=n(13448),d=n(4792),f=n(48513),p=function(e){var t=e.className,n=e.cards,a=e.charts;return(0,i.jsx)(u.Zb,(0,o.Z)((0,r.Z)({},n),{children:(0,i.jsx)(u._W,(0,r.Z)({className:t,type:"bar"},a))}))},m=n(99534),g=function(e){var t=e.cards,n=e.tables;(0,m.Z)(e,["cards","tables"]);return(0,i.jsx)(u.Zb,(0,o.Z)((0,r.Z)({},t),{children:(0,i.jsx)(u.iA,(0,r.Z)({},n))}))},h=n(58497),x=n(25617),k=n(87661),S=n(78539),v=n(51518),j=n(66938),w=n(86706),y=n(43109),_=n(60011),b=n(66876),Z=n(34058),T=n(98361),z=n(68822),N=n(58742),I={tablet:"(min-width: 300px) and (max-width: 500px)",desktop:"(min-width: 1024px)"},J=function(){var e,t=(0,s.useState)(),n=t[0],a=t[1],m=(0,s.useState)({page:0,max_size:10}),J=m[0],O=m[1],D=(0,s.useState)({page:0,max_size:10}),X=D[0],C=D[1],E=(0,x.I0)(),H=(0,x.v9)((function(e){return e.spokeperson})),L=H.spokepersonList,M=H.spokepersonStatistic,A=H.spokepersonDetail,B=H.spokepersonStatisticClick,Y=(0,x.v9)((function(e){return e.filter})).filter,R=(0,s.useState)(!0),V=(R[0],R[1],(0,s.useState)(!1)),W=V[0],q=V[1],G=(0,s.useState)({}),F=G[0],K=G[1],U=(0,s.useState)(!1),$=U[0],Q=U[1],ee=(0,s.useState)(!1),te=ee[0],ne=ee[1],re=(0,s.useState)([]),oe=(re[0],re[1]),ie=(0,s.useState)(!1),ae=(ie[0],ie[1],(0,s.useState)("")),se=(ae[0],ae[1],(0,s.useState)("")),ue=(se[0],se[1],(0,s.useState)(!1)),ce=(ue[0],ue[1],(0,s.useState)(!1)),le=ce[0],de=ce[1],fe=[{img:S.Z,name:"Airlangga"},{img:S.Z,name:"Menko Airlangga"},{img:S.Z,name:"Menteri Koordinator Bidang Perekonomian Airlangga Hartarto"},{img:v.Z,name:"Edwin"},{img:j.Z,name:"Erick"},{img:w.Z,name:"Haru"},{img:y.Z,name:"Jasmin"},{img:_.Z,name:"Rully"},{img:b.Z,name:"Sayed"},{img:Z.Z,name:"Sunarso"},{img:T.Z,name:"Toni"}];(0,s.useEffect)((function(){(0,f.Z)(I,a)}),[n]),(0,s.useEffect)((function(){E((0,k.UV)((0,o.Z)((0,r.Z)({},Y.result),{page:0,max_size:10}))),E((0,k.rG)((0,o.Z)((0,r.Z)({},Y.result),{limit:10,page:0,max_size:10}))).catch((function(e){return console.log(e)}))}),[Y]);var pe=function(){var e,t;return(0,i.jsx)(u.dy,{title:F.influencer_name,placement:"right",visible:$&&!A.loading,onClose:function(){Q(!1),K({})},children:(0,i.jsxs)(u.X2,{children:[(0,i.jsxs)(u.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(u.TH,{title:"date:",content:F.datee}),(0,i.jsx)(u.TH,{title:"sentiment:",content:(0,i.jsx)(u.Vp,{style:{margin:0},color:"1"==F.tone?"success":"-1"==F.tone?"error":"processing",children:1==F.tone?"Positive":-1==F.tone?"Negative":"Neutral"})})]}),(0,i.jsx)(u.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,i.jsx)(u.TH,{title:"media:",content:"".concat(F.media)})}),(0,i.jsx)(u.JX,{span:24,children:(0,i.jsxs)(u.X2,{children:[(0,i.jsx)(u.JX,{span:24,children:(0,i.jsx)("div",{style:{overflowY:"scroll",maxHeight:300,border:"1px dashed rgba(54, 65, 76, 0.3)",padding:6,borderRadius:3},children:F.quotes})}),(0,i.jsx)(u.JX,{span:24,children:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(e=A.result.data)||void 0===e?void 0:e.content.replace(new RegExp(F.quotes,"gi"),(function(e){return'<b class="highlight-text">'.concat(e,"</b>")}))}})})]})}),(0,i.jsx)(u.JX,{span:24,children:null===(t=F.category_id)||void 0===t?void 0:t.map((function(e){return(0,i.jsx)(u.Vp,{color:"processing",children:e},e)}))})]})})},me=function(e){var t=e.data,n=e.props,a={maxWidth:"80%",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"};return(0,i.jsx)(i.Fragment,{children:M.loading?(0,i.jsx)(u.gb,{}):(0,i.jsxs)(u.X2,{style:{heigth:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},children:[t.map((function(e,t){return(0,i.jsx)(u.JX,{xs:24,sm:24,md:24,lg:24,xl:24,children:(0,i.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,i.jsx)(u.Zb,(0,o.Z)((0,r.Z)({onLoading:M.loading},n),{hoverable:!0,style:{height:65,width:65},cover:e.image,onClick:function(){E((0,k.AY)((0,o.Z)((0,r.Z)({},Y.result),{page:0,max_size:10,tone:"all",influencer:e.label||e.influencer_name,order:"desc"}))),O((0,r.Z)({},J,e)),ne(!0),console.log((0,r.Z)({},J,e))}})),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("div",{style:a,children:e.label}),(0,i.jsxs)("p",{style:{fontSize:"12px"},children:["Statement ",e.statement]})]})]})},t)})),(0,i.jsx)(u.JX,{children:(0,i.jsx)(c.Z,{size:"small",pagination:{showSizeChanger:!0,total:t.recordsTotal||0,showTotal:function(e){return"Total ".concat(t.recordsTotal," data")},defaultPageSize:t.maxSize||0,defaultCurrent:t.page+1||0,onChange:function(e,n){return handleClikable((0,o.Z)((0,r.Z)({},t),{page:e-1,maxSize:n}))}}})})]})})};return(0,i.jsxs)(u.X2,{children:[(0,i.jsxs)(u.X2,{align:"start",justify:"start",children:[(0,i.jsx)(u.JX,{xl:6,md:12,sm:24,children:(0,i.jsx)(u.Zb,{title:"spokeperson",children:(0,i.jsx)(me,{data:M.result.data?M.result.data.map((function(e){fe.findIndex((function(t){return t.name==e.influencer_name}));return{label:e.influencer_name,statement:e.count.all,image:(0,i.jsx)(u.u,{title:e.influencer_name,placement:"bottom",children:(0,i.jsx)(u.Ee,{src:e.image?e.image:z.Z,url:e.image?"https://demo.digivla.id":null,layout:"fill",objectFit:"cover",alt:"person",priority:"true"})},e.influencer_name)}})):[]})})}),(0,i.jsxs)(u.JX,{xl:18,md:24,sm:24,children:[(0,i.jsx)(u.JX,{children:(0,i.jsx)(p,{cards:{title:"spokeperson breakdown",onLoading:M.loading,shadow:!0,extra:(0,i.jsx)(u.zx,{size:"small",type:"link",onClick:function(){q(!W)},children:"view"})},charts:{series:[{name:"negative",data:M.result.data?M.result.data.map((function(e){return e.count.negative})):[]},{name:"neutral",data:M.result.data?M.result.data.map((function(e){return e.count.netral})):[]},{name:"positive",data:M.result.data?M.result.data.map((function(e){return e.count.positive})):[]}],events:{dataPointSelection:function(e,t,n){E((0,k.AY)((0,o.Z)((0,r.Z)({},Y.result),{page:0,max_size:10,tone:n.seriesIndex-1,influencer:M.result.data[n.dataPointIndex].influencer_name,order:"desc"}))),ne(!0),O((0,r.Z)({},J,M.result.data[n.dataPointIndex]))}},chartOptions:{stacked:!0},options:{colors:d.X6.colors,plotOptions:{bar:{horizontal:W,borderRadius:6}},xaxis:{categories:M.result.data?M.result.data.map((function(e){return e.influencer_name})):[]},legend:d.X6.legend}}})}),(0,i.jsx)("p",{}),(0,i.jsx)(u.JX,{children:(0,i.jsx)(g,{cards:{onLoading:L.loading,title:"spokeperson list",extra:"Total: ".concat(null===(e=L.result.data)||void 0===e?void 0:e.length)},tables:{data:L.result.data?L.result.data:[],rowKey:function(e){return e.quotes},expandable:{expandedRowRender:function(e){return(0,i.jsx)("p",{style:{margin:0},children:e.quotes})},rowExpandable:function(e){return"Not Expandable"!==e.influencer_name}},pagination:{showSizeChanger:!0,total:L.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:X.page+1,pageSize:X.max_size,onChange:function(e,t){E((0,k.UV)((0,o.Z)((0,r.Z)({},Y.result),{page:e-1,max_size:t}))),C({page:e-1,max_size:t})}},column:[{title:"Spokeperson List",render:function(e){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(u.TH,{title:"Date",content:e.datee}),(0,i.jsx)(u.TH,{title:"Media",content:e.media}),(0,i.jsx)(u.TH,{title:"Spokeperson",content:e.influencer_name}),(0,i.jsx)(u.TH,{title:"tone",content:e.tone}),(0,i.jsx)(u.TH,{title:"action",type:"action",children:(0,i.jsx)(u.zx,{size:"small",icons:"EditTwotone"})})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",key:"datee",width:100,responsive:["md"],sorter:function(e,t){return e.datee-t.datee}},{title:"Name",dataIndex:"influencer_name",key:"influencer_name",ellipsis:!0,responsive:["md"],sorter:function(e,t){return e.influencer_name.length-t.influencer_name.length}},{title:"Media",dataIndex:"media",key:"media_id",responsive:["md"],sorter:function(e,t){return e.media_id-t.media_id}},{title:"Tone",dataIndex:"tones",key:"tones",width:100,responsive:["md"],sorter:function(e,t){return e.tones-t.tones},render:function(e,t){return(0,i.jsx)(u.Vp,{color:0==t.tone?"processing":1==t.tone?"success":"error",children:t.tone<0?"Negative":t.tone>0?"Positive":"Neutral"})}},{title:"Action",key:"action",width:60,align:"center",responsive:["md"],render:function(e,t){return(0,i.jsx)(u.TH,{type:"action",children:(0,i.jsx)(u.zx,{size:"small",icons:"EditOutlined",onClick:function(){K(t),Q(!0),E((0,k.gG)({article_id:t.article_id}))}})})}}]}})})]})]}),(0,i.jsx)(pe,{}),(0,i.jsx)(h.Z,{chartList:te,setChartList:ne,spokepersonStatisticClick:B,dataList:J,paginationHandler:function(e,t){E((0,k.AY)((0,o.Z)((0,r.Z)({},Y.result),{page:e-1,max_size:t,tone:"all",influencer:J.label||J.influencer_name,order:"desc"}))),O((0,o.Z)((0,r.Z)({},J),{page:e-1,max_size:t}))},setDataList:O,handleClickChart:function(e){E((0,k.gG)({article_id:e.article_id})),(0,N.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(t){K(e),Q(!0),oe(t.data)})).catch((function(e){return console.log(e)}))}}),(0,i.jsx)("div",{style:{position:"absolute",zIndex:999,right:20,bottom:"tablet"==n?"30%":100},children:(0,i.jsx)(u.zx,{style:P,loading:le,onClick:function(e){e.preventDefault(),de(!0),(0,k.G5)((0,r.Z)({},Y.result)).then((function(e){return e.json()})).then((function(e){200==e.code?(window.open(e.data.filepath),de(!1)):(l.Z.error({message:"Error when download excel"}),de(!1))})).catch((function(e){l.Z.error({message:"Error when download excel"}),de(!1)}))},type:"primary",icons:"DownloadOutlined",shape:"round",children:"Download"})})]})};J.layout=a;var O=J,P={boxShadow:"3px 0px 20px -12px rgba(54, 65, 76, 0.5)"}},58742:function(e,t,n){"use strict";n.d(t,{Dc:function(){return c},HG:function(){return b},HX:function(){return I},L5:function(){return f},Lj:function(){return Z},M9:function(){return x},Mr:function(){return k},Nu:function(){return j},Tf:function(){return m},Y:function(){return N},_$:function(){return g},aB:function(){return y},cK:function(){return T},e9:function(){return l},eq:function(){return p},jX:function(){return v},k5:function(){return h},n3:function(){return _},r8:function(){return S},rt:function(){return d},tI:function(){return z},yz:function(){return w}});var r=n(47568),o=n(26042),i=n(69396),a=n(97582),s=n(5032),u=n(74034),c=(n(49552),function(e){return function(){var t=(0,r.Z)((function(t,n){var r,c,l;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t({type:s.i4}),r=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.SD)("user/editing/",r.token,(0,i.Z)((0,o.Z)({},e),{tone:e.tonee}))];case 1:return[4,(c=n.sent()).json()];case 2:return c=n.sent(),t({type:s.If,result:c}),[3,4];case 3:return l=n.sent(),t({type:s.yb,result:l}),[3,4];case 4:return[2]}}))}));return function(e,n){return t.apply(this,arguments)}}()}),l=function(e){return function(t,n){t({type:s.If,result:e})}},d=function(){return function(){var e=(0,r.Z)((function(e,t){var n,r,o;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e({type:s.Ev}),n=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.Be)("issue/list/",n.token)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),e({type:s.Lj,result:r}),[3,4];case 3:return o=t.sent(),e({type:s.QB,result:o}),[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()},f=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/editing/send-mail",r.token,e).then((function(e){return t(e)}))}))},p=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/download/docxs",r.token,e).then((function(e){return t(e)}))}))},m=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/download/pdfs",r.token,e).then((function(e){return t(e)}))}))},g=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/title/update",r.token,e).then((function(e){return t(e)}))}))},h=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/summary/update",r.token,e).then((function(e){return t(e)}))}))},x=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/tone/update",r.token,e).then((function(e){return t(e)}))}))},k=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/keywords-by-article-id/",r.token,e).then((function(e){return t(e)}))}))},S=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/tone/multiple/update",r.token,e).then((function(e){return t(e)}))}))},v=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/delete",r.token,e).then((function(e){return setTimeout((function(){return t(e)}),1e3)}))}))},j=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("issue/add/",r.token,e).then((function(e){return t(e)}))}))},w=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/save",r.token,e).then((function(e){return t(e)}))}))},y=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.Be)("user/subcategories-distinct/",r.token,e).then((function(e){return t(e)}))}))},_=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/delete/category",r.token,e).then((function(e){return t(e)}))}))},b=function(){return function(){var e=(0,r.Z)((function(e,t){var n,r,o;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e({type:s.mk}),n=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.Be)("user/sponsor",n.token)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),e({type:s.FK,result:r}),[3,4];case 3:return o=t.sent(),e({type:s.VB,result:o}),[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()},Z=function(){return new Promise((function(e,t){var n=JSON.parse(localStorage.getItem("userToken"));return(0,u.Be)("user/sponsor",n.token).then((function(t){return e(t)}))}))},T=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/sponsor",r.token,e).then((function(e){return t(e)}))}))},z=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/sponsor",r.token,e).then((function(e){return t(e)}))}))},N=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u._o)("user/sponsor",r.token,e).then((function(e){return t(e)}))}))},I=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.Y2)("user/sponsor",r.token,e).then((function(e){return t(e)}))}))}}},function(e){e.O(0,[62,774,888,179],(function(){return t=21326,e(e.s=t);var t}));var t=e.O();_N_E=t}]);