(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{21326:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spokeperson",function(){return t(54168)}])},4792:function(e,n,t){"use strict";t.d(n,{$E:function(){return r},ON:function(){return i},X6:function(){return o}});var r={title:{text:"title",align:"left",offsetY:5,floating:!0,style:{fontSize:"14px",fontWeight:400,color:"#263238"}},tooltip:{shared:!1},markers:{size:6,hover:{sizeOffset:0}},stroke:{width:4,lineCap:"butt"},colors:["#06d6a0","#1990ff","#ff6b6b"],legend:{position:"bottom",horizontalAlign:"center",markers:{width:15,height:4,radius:0,offsetY:-2}}},o={chartOptions:{stacked:!0},colors:["#ff6b6b","#1990ff","#06d6a0"],title:{text:"title",align:"left",offsetY:5,floating:!0,style:{fontSize:"14px",fontWeight:400,color:"#263238"}},plotOptions:{bar:{horizontal:!0,borderRadius:6}},xaxis:{categories:["Media A","Media B","Media C","Media D"]},legend:{position:"bottom",horizontalAlign:"center",markers:{width:8,height:8,radius:2,offsetY:0}}},i={chart:{background:"#ffffff59",sparkline:{enabled:!0}},options:{grid:{show:!1},yaxis:{show:!0},legend:{show:!1}}}},54168:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r=t(26042),o=t(69396),i=t(85893),a=function(e){var n=e.children;return(0,i.jsx)("div",{children:n})},s=t(67294),u=t(18975),c=t(3698),l=t(13448),d=t(4792),f=t(48513),p=function(e){var n=e.className,t=e.cards,a=e.charts;return(0,i.jsx)(u.Zb,(0,o.Z)((0,r.Z)({},t),{children:(0,i.jsx)(u._W,(0,r.Z)({className:n,type:"bar"},a))}))},m=t(99534),g=function(e){var n=e.cards,t=e.tables;(0,m.Z)(e,["cards","tables"]);return(0,i.jsx)(u.Zb,(0,o.Z)((0,r.Z)({},n),{children:(0,i.jsx)(u.iA,(0,r.Z)({},t))}))},h=t(58497),x=t(25617),S=t(87661),k=t(78539),v=t(51518),j=t(66938),w=t(86706),y=t(43109),_=t(60011),b=t(66876),Z=t(34058),T=t(98361),z=t(68822),N=t(58742),I={tablet:"(min-width: 300px) and (max-width: 500px)",desktop:"(min-width: 1024px)"},J=function(){var e,n=(0,s.useState)(),t=n[0],a=n[1],m=(0,s.useState)({page:0,max_size:10}),J=m[0],O=m[1],D=(0,s.useState)({page:0,max_size:10}),X=D[0],C=D[1],E=(0,x.I0)(),H=(0,x.v9)((function(e){return e.spokeperson})),L=H.spokepersonList,M=H.spokepersonStatistic,A=H.spokepersonDetail,B=H.spokepersonStatisticClick,Y=(0,x.v9)((function(e){return e.filter})).filter,R=(0,s.useState)(!0),V=(R[0],R[1],(0,s.useState)(!1)),W=V[0],q=V[1],G=(0,s.useState)({}),F=G[0],K=G[1],U=(0,s.useState)(!1),$=U[0],Q=U[1],ee=(0,s.useState)(!1),ne=ee[0],te=ee[1],re=(0,s.useState)([]),oe=(re[0],re[1]),ie=(0,s.useState)(!1),ae=(ie[0],ie[1],(0,s.useState)("")),se=(ae[0],ae[1],(0,s.useState)("")),ue=(se[0],se[1],(0,s.useState)(!1)),ce=(ue[0],ue[1],(0,s.useState)(!1)),le=ce[0],de=ce[1],fe=[{img:k.Z,name:"Airlangga"},{img:k.Z,name:"Menko Airlangga"},{img:k.Z,name:"Menteri Koordinator Bidang Perekonomian Airlangga Hartarto"},{img:v.Z,name:"Edwin"},{img:j.Z,name:"Erick"},{img:w.Z,name:"Haru"},{img:y.Z,name:"Jasmin"},{img:_.Z,name:"Rully"},{img:b.Z,name:"Sayed"},{img:Z.Z,name:"Sunarso"},{img:T.Z,name:"Toni"}];(0,s.useEffect)((function(){(0,f.Z)(I,a)}),[t]),(0,s.useEffect)((function(){E((0,S.UV)((0,o.Z)((0,r.Z)({},Y.result),{page:0,max_size:10}))),E((0,S.rG)((0,o.Z)((0,r.Z)({},Y.result),{limit:10,page:0,max_size:10}))).catch((function(e){return console.log(e)}))}),[Y]);var pe=function(){var e,n;return(0,i.jsx)(u.dy,{title:F.influencer_name,placement:"right",visible:$&&!A.loading,onClose:function(){Q(!1),K({})},children:(0,i.jsxs)(u.X2,{children:[(0,i.jsxs)(u.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(u.TH,{title:"date:",content:F.datee}),(0,i.jsx)(u.TH,{title:"sentiment:",content:(0,i.jsx)(u.Vp,{style:{margin:0},color:"1"==F.tone?"success":"-1"==F.tone?"error":"processing",children:1==F.tone?"Positive":-1==F.tone?"Negative":"Neutral"})})]}),(0,i.jsx)(u.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,i.jsx)(u.TH,{title:"media:",content:"".concat(F.media)})}),(0,i.jsx)(u.JX,{span:24,children:(0,i.jsxs)(u.X2,{children:[(0,i.jsx)(u.JX,{span:24,children:(0,i.jsx)("div",{style:{overflowY:"scroll",maxHeight:300,border:"1px dashed rgba(54, 65, 76, 0.3)",padding:6,borderRadius:3},children:F.quotes})}),(0,i.jsx)(u.JX,{span:24,children:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(e=A.result.data)||void 0===e?void 0:e.content.replace(new RegExp(F.quotes,"gi"),(function(e){return'<b class="highlight-text">'.concat(e,"</b>")}))}})})]})}),(0,i.jsx)(u.JX,{span:24,children:null===(n=F.category_id)||void 0===n?void 0:n.map((function(e){return(0,i.jsx)(u.Vp,{color:"processing",children:e},e)}))})]})})},me=function(e){var n=e.data,t=e.props,a={maxWidth:"80%",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"};return(0,i.jsx)(i.Fragment,{children:M.loading?(0,i.jsx)(u.gb,{}):(0,i.jsxs)(u.X2,{style:{heigth:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},children:[n.map((function(e,n){return(0,i.jsx)(u.JX,{xs:24,sm:24,md:24,lg:24,xl:24,children:(0,i.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,i.jsx)(u.Zb,(0,o.Z)((0,r.Z)({onLoading:M.loading},t),{hoverable:!0,style:{height:65,width:65},cover:e.image,onClick:function(){E((0,S.AY)((0,o.Z)((0,r.Z)({},Y.result),{page:0,max_size:10,tone:"all",influencer:e.label||e.influencer_name,order:"desc"}))),O((0,r.Z)({},J,e)),te(!0),console.log((0,r.Z)({},J,e))}})),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("div",{style:a,children:e.label}),(0,i.jsxs)("p",{style:{fontSize:"12px"},children:["Statement ",e.statement]})]})]})},n)})),(0,i.jsx)(u.JX,{children:(0,i.jsx)(c.Z,{size:"small",pagination:{showSizeChanger:!0,total:n.recordsTotal||0,showTotal:function(e){return"Total ".concat(n.recordsTotal," data")},defaultPageSize:n.maxSize||0,defaultCurrent:n.page+1||0,onChange:function(e,t){return handleClikable((0,o.Z)((0,r.Z)({},n),{page:e-1,maxSize:t}))}}})})]})})};return(0,i.jsxs)(u.X2,{children:[(0,i.jsxs)(u.X2,{align:"start",justify:"start",children:[(0,i.jsx)(u.JX,{xl:6,md:12,sm:24,children:(0,i.jsx)(u.Zb,{title:"spokeperson",children:(0,i.jsx)(me,{data:M.result.data?M.result.data.map((function(e){fe.findIndex((function(n){return n.name==e.influencer_name}));return{label:e.influencer_name,statement:e.count.all,image:(0,i.jsx)(u.u,{title:e.influencer_name,placement:"bottom",children:(0,i.jsx)(u.Ee,{src:e.image?e.image:z.Z,url:e.image?"https://demo.digivla.id":null,layout:"fill",objectFit:"cover",alt:"person",priority:"true"})},e.influencer_name)}})):[]})})}),(0,i.jsxs)(u.JX,{xl:18,md:24,sm:24,children:[(0,i.jsx)(u.JX,{children:(0,i.jsx)(p,{cards:{title:"spokeperson breakdown",onLoading:M.loading,shadow:!0,extra:(0,i.jsx)(u.zx,{size:"small",type:"link",onClick:function(){q(!W)},children:"view"})},charts:{series:[{name:"negative",data:M.result.data?M.result.data.map((function(e){return e.count.negative})):[]},{name:"neutral",data:M.result.data?M.result.data.map((function(e){return e.count.netral})):[]},{name:"positive",data:M.result.data?M.result.data.map((function(e){return e.count.positive})):[]}],events:{dataPointSelection:function(e,n,t){E((0,S.AY)((0,o.Z)((0,r.Z)({},Y.result),{page:0,max_size:10,tone:t.seriesIndex-1,influencer:M.result.data[t.dataPointIndex].influencer_name,order:"desc"}))),te(!0),O((0,r.Z)({},J,M.result.data[t.dataPointIndex]))}},chartOptions:{stacked:!0},options:{colors:d.X6.colors,plotOptions:{bar:{horizontal:W,borderRadius:6}},xaxis:{categories:M.result.data?M.result.data.map((function(e){return e.influencer_name})):[]},legend:d.X6.legend}}})}),(0,i.jsx)("p",{}),(0,i.jsx)(u.JX,{children:(0,i.jsx)(g,{cards:{onLoading:L.loading,title:"spokeperson list",extra:"Total: ".concat(null===(e=L.result.data)||void 0===e?void 0:e.length)},tables:{data:L.result.data?L.result.data:[],rowKey:function(e){return e.quotes},expandable:{expandedRowRender:function(e){return(0,i.jsx)("p",{style:{margin:0},children:e.quotes})},rowExpandable:function(e){return"Not Expandable"!==e.influencer_name}},pagination:{showSizeChanger:!0,total:L.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:X.page+1,pageSize:X.max_size,onChange:function(e,n){E((0,S.UV)((0,o.Z)((0,r.Z)({},Y.result),{page:e-1,max_size:n}))),C({page:e-1,max_size:n})}},column:[{title:"Spokeperson List",render:function(e){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(u.TH,{title:"Date",content:e.datee}),(0,i.jsx)(u.TH,{title:"Media",content:e.media}),(0,i.jsx)(u.TH,{title:"Spokeperson",content:e.influencer_name}),(0,i.jsx)(u.TH,{title:"tone",content:e.tone}),(0,i.jsx)(u.TH,{title:"action",type:"action",children:(0,i.jsx)(u.zx,{size:"small",icons:"EditTwotone"})})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",key:"datee",width:100,responsive:["md"],sorter:function(e,n){return e.datee-n.datee}},{title:"Name",dataIndex:"influencer_name",key:"influencer_name",ellipsis:!0,responsive:["md"],sorter:function(e,n){return e.influencer_name.length-n.influencer_name.length}},{title:"Media",dataIndex:"media",key:"media_id",responsive:["md"],sorter:function(e,n){return e.media_id-n.media_id}},{title:"Tone",dataIndex:"tones",key:"tones",width:100,responsive:["md"],sorter:function(e,n){return e.tones-n.tones},render:function(e,n){return(0,i.jsx)(u.Vp,{color:0==n.tone?"processing":1==n.tone?"success":"error",children:n.tone<0?"Negative":n.tone>0?"Positive":"Neutral"})}},{title:"Action",key:"action",width:60,align:"center",responsive:["md"],render:function(e,n){return(0,i.jsx)(u.TH,{type:"action",children:(0,i.jsx)(u.zx,{size:"small",icons:"EditOutlined",onClick:function(){K(n),Q(!0),E((0,S.gG)({article_id:n.article_id}))}})})}}]}})})]})]}),(0,i.jsx)(pe,{}),(0,i.jsx)(h.Z,{chartList:ne,setChartList:te,spokepersonStatisticClick:B,dataList:J,paginationHandler:function(e,n){E((0,S.AY)((0,o.Z)((0,r.Z)({},Y.result),{page:e-1,max_size:n,tone:"all",influencer:J.label||J.influencer_name,order:"desc"}))),O((0,o.Z)((0,r.Z)({},J),{page:e-1,max_size:n}))},setDataList:O,handleClickChart:function(e){E((0,S.gG)({article_id:e.article_id})),(0,N.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(n){K(e),Q(!0),oe(n.data)})).catch((function(e){return console.log(e)}))}}),(0,i.jsx)("div",{style:{position:"absolute",zIndex:999,right:20,bottom:"tablet"==t?"30%":100},children:(0,i.jsx)(u.zx,{style:P,loading:le,onClick:function(e){e.preventDefault(),de(!0),(0,S.G5)((0,r.Z)({},Y.result)).then((function(e){return e.json()})).then((function(e){200==e.code?(window.open(e.data.filepath),de(!1)):(l.Z.error({message:"Error when download excel"}),de(!1))})).catch((function(e){l.Z.error({message:"Error when download excel"}),de(!1)}))},type:"primary",icons:"DownloadOutlined",shape:"round",children:"Download"})})]})};J.layout=a;var O=J,P={boxShadow:"3px 0px 20px -12px rgba(54, 65, 76, 0.5)"}},58742:function(e,n,t){"use strict";t.d(n,{Dc:function(){return c},HG:function(){return b},HX:function(){return I},L5:function(){return f},Lj:function(){return Z},M9:function(){return x},Mr:function(){return S},Nu:function(){return j},Tf:function(){return m},Y:function(){return N},_$:function(){return g},aB:function(){return y},cK:function(){return T},e9:function(){return l},eq:function(){return p},jX:function(){return v},k5:function(){return h},n3:function(){return _},r8:function(){return k},rt:function(){return d},tI:function(){return z},yz:function(){return w}});var r=t(47568),o=t(26042),i=t(69396),a=t(97582),s=t(5032),u=t(74034),c=(t(49552),function(e){return function(){var n=(0,r.Z)((function(n,t){var r,c,l;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n({type:s.i4}),r=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.SD)("user/editing/",r.token,(0,i.Z)((0,o.Z)({},e),{tone:e.tonee}))];case 1:return[4,(c=t.sent()).json()];case 2:return c=t.sent(),n({type:s.If,result:c}),[3,4];case 3:return l=t.sent(),n({type:s.yb,result:l}),[3,4];case 4:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()}),l=function(e){return function(n,t){n({type:s.If,result:e})}},d=function(){return function(){var e=(0,r.Z)((function(e,n){var t,r,o;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e({type:s.Ev}),t=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.Be)("issue/list/",t.token)];case 1:return[4,(r=n.sent()).json()];case 2:return r=n.sent(),e({type:s.Lj,result:r}),[3,4];case 3:return o=n.sent(),e({type:s.QB,result:o}),[3,4];case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}()},f=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/editing/send-mail",r.token,e).then((function(e){return n(e)}))}))},p=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/download/docxs",r.token,e).then((function(e){return n(e)}))}))},m=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/download/pdfs",r.token,e).then((function(e){return n(e)}))}))},g=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/title/update",r.token,e).then((function(e){return n(e)}))}))},h=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/summary/update",r.token,e).then((function(e){return n(e)}))}))},x=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/tone/update",r.token,e).then((function(e){return n(e)}))}))},S=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/keywords-by-article-id/",r.token,e).then((function(e){return n(e)}))}))},k=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/tone/multiple/update",r.token,e).then((function(e){return n(e)}))}))},v=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/delete",r.token,e).then((function(e){return setTimeout((function(){return n(e)}),1e3)}))}))},j=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("issue/add/",r.token,e).then((function(e){return n(e)}))}))},w=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/save",r.token,e).then((function(e){return n(e)}))}))},y=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.Be)("user/subcategories-distinct/",r.token,e).then((function(e){return n(e)}))}))},_=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/delete/category",r.token,e).then((function(e){return n(e)}))}))},b=function(){return function(){var e=(0,r.Z)((function(e,n){var t,r,o;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e({type:s.mk}),t=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.Be)("user/sponsor",t.token)];case 1:return[4,(r=n.sent()).json()];case 2:return r=n.sent(),e({type:s.FK,result:r}),[3,4];case 3:return o=n.sent(),e({type:s.VB,result:o}),[3,4];case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}()},Z=function(){return new Promise((function(e,n){var t=JSON.parse(localStorage.getItem("userToken"));return(0,u.Be)("user/sponsor",t.token).then((function(n){return e(n)}))}))},T=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/sponsor",r.token,e).then((function(e){return n(e)}))}))},z=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/sponsor",r.token,e).then((function(e){return n(e)}))}))},N=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u._o)("user/sponsor",r.token,e).then((function(e){return n(e)}))}))},I=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.Y2)("user/sponsor",r.token,e).then((function(e){return n(e)}))}))}}},function(e){e.O(0,[62,774,888,179],(function(){return n=21326,e(e.s=n);var n}));var n=e.O();_N_E=n}]);