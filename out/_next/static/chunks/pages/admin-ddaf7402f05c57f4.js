(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{58195:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(16555)}])},16555:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Y}});var a=t(85893),r=t(18975),l=t(26042),s=t(69396),i=t(25617),o=t(67294),u=t(30381),c=t.n(u),d=t(32495),m=t.n(d),p=t(40872),h=t(47568),f=t(97582),x=t(38881),g=t(74034),y=function(e){return function(){var n=(0,h.Z)((function(n,t){var a,r,l;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n({type:x.sr}),a=JSON.parse(localStorage.getItem("userToken")),[4,(0,g.SD)("admin/list/",a.token,e)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),n({type:x.Ai,result:r}),[3,4];case 3:return l=t.sent(),n({type:x.nY,result:l}),[3,4];case 4:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()},j=function(e){return new Promise((function(n,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.Be)("admin/level/list/",a.token,e).then((function(e){return n(e)}))}))},v=function(e){var n=(0,p.Z)({},e),t=(0,i.I0)(),u=(0,i.v9)((function(e){return e.adminReducers})).adminAllCompany;(0,o.useEffect)((function(){var e;t(function(){var n=(0,h.Z)((function(n,t){var a,r,l;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n({type:x.ue}),a=JSON.parse(localStorage.getItem("userToken")),[4,(0,g.Be)("admin/company/list/",a.token,e)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),n({type:x.m2,result:r}),[3,4];case 3:return l=t.sent(),n({type:x.b$,result:l}),[3,4];case 4:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}())}),[]);var c=[];for(var d in u.result.data)c.push({label:d,value:u.result.data[d]});return(0,a.jsx)(r.Ph,(0,s.Z)((0,l.Z)({},n),{showSearch:!0,optionFilterProp:"children",placeholder:"Select Company",filterOption:function(e,n){return n.children.indexOf(e)>=0},children:c.map((function(e){return(0,a.jsx)(r.Ph.Option,{value:e.value,children:e.label},e.label)}))}))},_=function(e){var n=(0,p.Z)({},e),t=(0,o.useState)([]),i=t[0],u=t[1];return(0,o.useEffect)((function(){j().then((function(e){return e.json()})).then((function(e){u(e.data)})).catch((function(e){}))}),[]),(0,a.jsx)(r.Ph,(0,s.Z)((0,l.Z)({},n),{options:i.length>0?i.map((function(e){return{value:e.id,label:e.level_name}})):[]}))};_.Tag=function(e){var n=(0,o.useState)([]),t=n[0],r=n[1];return(0,o.useEffect)((function(){j().then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){}))}),[]),(0,a.jsx)(a.Fragment,{children:t.length>0?t.map((function(n){if(n.id==e)return n.level_name})):[]})};var Z=_,C=t(27049),b=function(e){var n=e.selectAll,t=e.group;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.XZ,(0,s.Z)((0,l.Z)({},n),{children:n.label})),(0,a.jsx)(C.Z,{style:{margin:"6px 0"}}),(0,a.jsx)(r.XZ,(0,l.Z)({type:"group",style:{display:"flex",alignItems:"flex-start",flexDirection:"column",height:200,width:"100%",overflow:"auto"}},t))]})},w=function(e){var n=e.tables;return(0,a.jsx)(r.iA,(0,l.Z)({},n))};w.User=function(e){var n=e.tables;return(0,a.jsx)(w,{tables:(0,l.Z)({},n)})};var S=w,k=function(e){var n=e.title,t=e.isOpen,l=e.onClose,s=e.submit,i=e.submitDisable,o=e.children;return(0,a.jsx)(r.dy,{title:n,visible:t,onClose:l,footer:(0,a.jsx)(r.zx,{type:"primary",style:{float:"right"},disabled:i,onClick:s,children:"Submit Update"}),children:o})};k.Create=function(e){var n=e.isOpen,t=e.onClose,l=e.submit,s=e.children;return(0,a.jsx)(r.u_,{closable:!0,title:"Create New",visible:n,onCancel:t,footer:[(0,a.jsx)(r.zx,{type:"primary",onClick:l,children:"Submit"},"submit")],children:s})};var T=k,z=t(69518),X=t(99534),J=t(24016).Z.Search,I=function(e){var n=e.onSearch,t=(0,X.Z)(e,["onSearch"]);return(0,a.jsx)(J,(0,l.Z)({allowClear:!0,onSearch:n},t))},O=function(e){return function(){var n=(0,h.Z)((function(n,t){var a,r,l;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n({type:x.LM}),a=JSON.parse(localStorage.getItem("userToken")),[4,(0,g.SD)("admin/list/",a.token,e)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),n({type:x.fg,result:r}),[3,4];case 3:return l=t.sent(),n({type:x.uy,result:l}),[3,4];case 4:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()},D=function(e){var n=e.type,t=e.name,l=e.label,s=e.value,i=e.onChange,o=e.defaultValue;return(0,a.jsxs)(r.l0.Item,{labelCol:{span:24},name:t,label:(0,a.jsxs)("span",{style:{textTransform:"capitalize",fontWeight:500},children:[l,":"]}),children:["text"==n&&(0,a.jsx)(r.II,{style:{width:"100%"},placeholder:l,value:s,onChange:i}),"address"==n&&(0,a.jsx)(r.II,{type:"textarea",style:{width:"100%"},placeholder:l,autoSize:{minRows:4,maxRows:4},value:s,defaultValue:o,onChange:i}),"phone"==n&&(0,a.jsx)(r.II,{type:"number",style:{width:"100%"},placeholder:l,defaultValue:o,value:s,onChange:i}),"date"==n&&(0,a.jsx)(r.Mt,{locale:"id_ID",value:s,defaultValue:o,placeholder:l,name:t,onChange:i}),"status"==n&&(0,a.jsx)(r.Ph,{defaultValue:o,value:s,onChange:i,placeholder:l,options:[{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"TRIAL",label:"Trial"}]}),"upload"==n&&(0,a.jsx)(m(),{id:t,multiple:!1,onDone:i})]})},H={width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:"6px"},N={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"85px",width:"85px"},A=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e.adminCompany})).adminListCompany,t=(0,o.useState)({order:"ASC",order_by:"company",types:"company",current:0,pageSize:10}),u=t[0],d=t[1],m=(0,o.useState)(!1),p=m[0],h=m[1],f=(0,o.useState)(!1),x=f[0],y=f[1],j=(0,o.useState)(!1),v=j[0],_=j[1],Z=(0,o.useState)({}),b=Z[0],w=Z[1],k=(0,o.useState)({}),X=k[0],J=k[1],A=(0,o.useState)(""),P=(A[0],A[1],(0,o.useState)({data:n.result.data})),V=P[0],E=P[1];(0,o.useEffect)((function(){n.loaded||e(O((0,s.Z)((0,l.Z)({},u),{page:u.current+1,max_size:u.pageSize})))}),[]),(0,o.useEffect)((function(){E({data:n.result.data})}),[n.result]);var U=function(e){var n;(n={id:e.id,types:u.types},new Promise((function(e,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/detail/",a.token,n).then((function(n){return e(n)}))}))).then((function(e){return e.json()})).then((function(n){n.data.map((function(n){J((0,s.Z)((0,l.Z)({},n),{total_keyword:e.total_keyword}))})),y(!0)})).catch((function(e){}))},L=function(n){var t,a={id:n.id};console.log(a),(t=a,new Promise((function(e,n){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/company/delete/",a.token,t).then((function(n){return e(n)}))}))).then((function(e){return e.json()})).then((function(n){r.yw.info(n.message),e(O((0,s.Z)((0,l.Z)({},u),{page:u.current+1,max_size:u.pageSize})))})).catch((function(e){return e}))};return(0,a.jsxs)(r.X2,{children:[(0,a.jsx)(r.JX,{span:24,children:(0,a.jsxs)(r.X2,{children:[(0,a.jsx)(r.JX,{span:12,children:(0,a.jsx)(I,{placeholder:"search company",onSearch:function(e){var t=n.result.data.filter((function(n){var t=n.company_name;return(t=t.toLowerCase()).includes(e)}));E({data:t}),console.log(t)}})}),(0,a.jsx)(r.JX,{children:(0,a.jsx)(r.zx,{type:"dashed",icons:"PlusCircleOutlined",onClick:function(){return h(!0)},children:"Create"})})]})}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(S,{tables:{data:null===V||void 0===V?void 0:V.data,rowKey:function(e){return e.id},pagination:{showSizeChanger:!0,defaultCurrent:u.current+1,defaultPageSize:u.pageSize,total:n.result.total_user,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(n,t){d((0,s.Z)((0,l.Z)({},u),{current:n-1,pageSize:t})),e(O((0,s.Z)((0,l.Z)({},u),{page:u.current,max_size:u.pageSize})))}},column:[{title:"User List",render:function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.TH,{title:"company",ellipsis:!0,content:e.company_name}),(0,a.jsx)(r.TH,{title:"expired",content:e.expired}),(0,a.jsx)(r.TH,{title:"keyword",content:"".concat(e.total_keyword,"\n/\n").concat(0==e.limit_keyword?"unlimited":null==e.limit_keyword?"-":e.limit_keyword)}),(0,a.jsx)(r.TH,{title:"status",content:e.status}),(0,a.jsxs)(r.TH,{title:"action",type:"action",children:[(0,a.jsx)(r.zx,{size:"small",icons:"EditOutlined",onClick:function(){return console.log()}}),(0,a.jsx)(r.gn,{title:"Are you sure to delete this?",onConfirm:function(){return L(e)},onCancel:function(){console.log("cancel delete")},children:(0,a.jsx)(r.zx,{size:"small",icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})]})},responsive:["xs"]},{title:"Expired",dataIndex:"expired",width:120,responsive:["md"],defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,n){return e.expired.localeCompare(n.expired)}},{title:"Company",dataIndex:"company_name",responsive:["md"],sorter:function(e,n){return e.company_name.localeCompare(n.company_name)},defaultSortOrder:"ascend",sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",width:130,responsive:["md"],defaultSortOrder:"ascend",sortDirections:["descend","ascend"],sorter:function(e,n){return e.status.localeCompare(n.status)},render:function(e){return e}},{title:(0,a.jsx)(r.u,{title:"total keyword / limit keyword",placement:"top",children:"Keyword"}),dataIndex:"total_keyword",width:130,responsive:["md"],render:function(e,n){return(0,a.jsxs)(a.Fragment,{children:[e,"\n/\n",0==n.limit_keyword?"unlimited":null==n.limit_keyword?"-":n.limit_keyword]})}},{title:"Action",key:"action",width:90,align:"center",responsive:["md"],render:function(e,n){return(0,a.jsxs)(r.TH,{type:"action",children:[(0,a.jsx)(r.u,{title:"detail user",placement:"left",children:(0,a.jsx)(r.zx,{size:"small",icons:"EditOutlined",onClick:function(){return U(n)}})}),(0,a.jsx)(r.gn,{title:"Are you sure to delete this?",onConfirm:function(){return L(n)},onCancel:function(){console.log("cancel delete")},children:(0,a.jsx)(r.zx,{size:"small",icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})}}]}})}),(0,a.jsx)(T.Create,{isOpen:p,submit:function(){var n,t={status:b.status,name:b.name,address:b.address,phone:b.phone,contact:b.contact_person,expired:b.expired_date,email:b.email,limit_keyword:b.limit_keyword,icon:b.icon};(n=t,new Promise((function(e,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/company/create/",a.token,n).then((function(n){return e(n)}))}))).then((function(e){return e.json()})).then((function(n){h(!1),w({}),r.yw.info(n.message),e(O((0,s.Z)((0,l.Z)({},u),{page:u.current+1,max_size:u.pageSize})))})).catch((function(e){return e}))},onClose:function(){h(!1),w({})},children:(0,a.jsxs)(r.X2,{gutter:[12,0],justify:"center",children:[(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(D,{type:"text",label:"company name",name:"name",value:b.name,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{name:e.target.value}))}})}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(D,{type:"text",label:"contact person",name:"contact_person",value:b.contact_person,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{contact_person:e.target.value}))}}),(0,a.jsx)(D,{type:"phone",label:"phone",name:"phone",defaultValue:b.phone,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{phone:e.target.value}))}}),(0,a.jsx)(D,{type:"text",label:"email",name:"email",value:b.email,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{email:e.target.value}))}})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(D,{type:"date",label:"expired",name:"expired_date",defaultValue:b.expired_date,placeholder:"expired date",onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{expired_date:e.format("YYYY-MM-DD")}))}}),(0,a.jsx)(D,{type:"status",label:"status",name:"status",value:b.status,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{status:e}))}}),(0,a.jsx)(D,{type:"phone",label:"limit keyword",name:"limit_keyword",value:b.limit_keyword,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{limit_keyword:e.target.value}))}})]}),(0,a.jsxs)(r.JX,{span:24,children:[(0,a.jsx)(D,{type:"upload",label:"logo",name:"logo",onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{icon:[{filename:e.name,base64:e.base64}]}))}}),(0,a.jsx)(D,{type:"address",label:"address",name:"address",value:b.address,onChange:function(e){w((0,s.Z)((0,l.Z)({},b),{address:e.target.value}))}})]})]})}),(0,a.jsx)(T,{title:"Detail\n".concat(X.comp_name),isOpen:x,onClose:function(){y(!1),_(!1)},submitDisable:0==v,submit:function(){var n,t={id:X.comp_id,status:X.status,name:X.comp_name,address:X.address,phone:X.phone,contact:X.contact_person,expired:X.expired,email:X.email,limit_keyword:X.limit_keyword,icon:[{filename:void 0,base64:void 0}]};X.filename&&(t={id:X.comp_id,status:X.status,name:X.comp_name,address:X.address,phone:X.phone,contact:X.contact_person,expired:X.expired,email:X.email,limit_keyword:X.limit_keyword,icon:[{filename:X.filename,base64:X.base64}]}),console.log(t),(n=t,new Promise((function(e,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/company/update/",a.token,n).then((function(n){return e(n)}))}))).then((function(e){return e.json()})).then((function(n){r.yw.info(n.message),y(!1),_(!1),e(O((0,s.Z)((0,l.Z)({},u),{page:u.current+1,max_size:u.pageSize})))})).catch((function(e){return e}))},children:(0,a.jsx)(r.l0,{children:(0,a.jsxs)(r.X2,{gutter:[12,12],align:"middle",justify:"center",children:[(0,a.jsx)(r.JX,{children:(0,a.jsxs)("div",{style:H,children:[(0,a.jsx)("div",{style:N,children:(0,a.jsx)(z.Z,{style:{position:"relative",width:"100%",height:"auto"},preview:!1,src:X.company_logo?"https://api.digivla.id/media/".concat(X.company_logo):null,alt:""})}),(0,a.jsx)("span",{style:{fontWeight:500},children:"ID:\n".concat(X.comp_id)})]})}),(0,a.jsxs)(r.JX,{span:24,children:[(0,a.jsx)(C.Z,{children:(0,a.jsxs)("label",{style:{fontWeight:500,textTransform:"capitalize"},children:[v?"Update":"Detail"," Company"]})}),v?(0,a.jsxs)(r.X2,{gutter:[12,0],justify:"center",children:[(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(D,{type:"text",label:"company name",name:"comp_name",value:X.comp_name,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{comp_name:e.target.value}))}})}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(D,{type:"text",label:"contact person",name:"contact_person",value:X.contact_person,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{contact_person:e.target.value}))}}),(0,a.jsx)(D,{type:"phone",label:"phone",name:"phone",defaultValue:X.phone,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{phone:e.target.value}))}}),(0,a.jsx)(D,{type:"text",label:"email",name:"email",value:X.email,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{email:e.target.value}))}})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(D,{type:"date",label:"expired",name:"expired",defaultValue:c()(X.expired),onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{expired:e.format("YYYY-MM-DD")}))}}),(0,a.jsx)(D,{type:"status",label:"status",name:"status",defaultValue:X.status,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{status:e}))}}),(0,a.jsx)(D,{type:"phone",label:"limit keyword",name:"limit_keyword",defaultValue:X.limit_keyword,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{limit_keyword:e.target.value}))}})]}),(0,a.jsxs)(r.JX,{span:24,children:[(0,a.jsx)(D,{type:"upload",label:"logo",name:"logo",onChange:function(e){return n=e,void J((0,s.Z)((0,l.Z)({},X),{filename:n.name,base64:n.base64}));var n}}),(0,a.jsx)(D,{type:"address",label:"address",name:"address",defaultValue:X.address,onChange:function(e){J((0,s.Z)((0,l.Z)({},X),{address:e.target.value}))}})]})]}):(0,a.jsx)(r.JX,{span:24,children:(0,a.jsxs)(r.X2,{gutter:[12,0],children:[(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(r.TH,{title:"contact person",content:X.contact_person}),(0,a.jsx)(r.TH,{title:"phone",content:X.phone}),(0,a.jsx)(r.TH,{title:"email",content:X.email})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(r.TH,{title:"registration",content:X.registration_date}),(0,a.jsx)(r.TH,{title:"expired",content:X.expired}),(0,a.jsx)(r.TH,{title:"status",content:X.status})]}),(0,a.jsx)(r.JX,{xs:24,sm:24,md:12,lg:12,children:(0,a.jsx)(r.TH,{title:"keyword",content:"".concat(X.total_keyword,"\n/\n").concat(0==X.limit_keyword?"unlimited":X.limit_keyword)})}),(0,a.jsx)(r.JX,{xs:24,sm:24,md:12,lg:12,children:(0,a.jsx)(r.TH,{title:"created by",content:null==X.created_by?"-":X.created_by})}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(r.TH,{title:"address",ellipsis:!0,content:X.address})})]})})]}),(0,a.jsx)(r.JX,{span:8,children:(0,a.jsx)(r.zx,{type:"dashed",block:!0,onClick:function(){return _(!v)},children:v?"Detail":"Update"})})]})})})]})},P=t(3550),V=function(e){return function(){var n=(0,h.Z)((function(n,t){var a,r,l;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n({type:P.nb}),a=JSON.parse(localStorage.getItem("userToken")),[4,(0,g.Be)("admin/menu/list/",a.token,e)];case 1:return[4,(r=t.sent()).json()];case 2:return r=t.sent(),n({type:P.dx,result:r}),[3,4];case 3:return l=t.sent(),n({type:P.rV,result:l}),[3,4];case 4:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()},E={order:"ASC",order_by:"company",types:"user"},U=function(e){var n=e.type,t=e.name,l=e.label,s=e.value,i=e.defaultValue,o=e.onChange,u=e.selectAll,c=e.group;return(0,a.jsxs)(r.l0.Item,{labelCol:{span:24},name:t,label:(0,a.jsxs)("span",{style:{textTransform:"capitalize",fontWeight:500},children:[l,":"]}),children:["text"==n&&(0,a.jsx)(r.II,{style:{width:"100%"},placeholder:l,value:s,onChange:o}),"password"==n&&(0,a.jsx)(r.II,{type:"password",style:{width:"100%"},placeholder:"password",value:s,onChange:o}),"company"==n&&(0,a.jsx)(v,{style:{width:"100%"},placeholder:l,defaultValue:i,value:s,onChange:o}),"level"==n&&(0,a.jsx)(Z,{placeholder:l,defaultValue:i,value:s,onChange:o}),"access"==n&&(0,a.jsx)(b,{selectAll:u,group:c})]})},L=function(){var e,n,t,u,c=(0,i.I0)(),d=(0,i.v9)((function(e){return e.adminReducers})),m=(0,i.v9)((function(e){return e.menuReducers})),p=d.adminListUser,h=m.menuList,f=(0,o.useState)(!0),x=f[0],j=f[1],v=(0,o.useState)(!1),_=v[0],b=v[1],w=(0,o.useState)({}),k=w[0],z=w[1],X=(0,o.useState)(!1),J=X[0],I=X[1],O=(0,o.useState)(!1),D=O[0],H=O[1],N=(0,o.useState)({}),A=N[0],P=N[1],L=(0,o.useState)({current:0,pageSize:10}),Y=L[0],F=L[1],R=(0,o.useState)((0,l.Z)({},E)),M=R[0];R[1];(0,o.useEffect)((function(){p.loaded||c(y((0,s.Z)((0,l.Z)({},M),{page:Y.current+1,max_size:Y.pageSize})))}),[]);var W=function(e){var n;H(!0),(n={id:e,types:"user"},new Promise((function(e,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/detail/",a.token,n).then((function(n){return e(n)}))}))).then((function(e){return e.json()})).then((function(n){var t={},a=[];n.data.map((function(e){t=e,e.list_menu.forEach((function(e){a.push(e)}))})),P({id:e,full_name:t.full_name,email:t.email,username:t.username,company:t.company,company_id:t.company_id,level_menu:t.level,list_menu:a})})).catch((function(e){}))},B=function(e){var n,t={id:e.id,username:e.usrname};(n=t,new Promise((function(e,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/user/delete/",a.token,n).then((function(n){return e(n)}))}))).then((function(e){return e.json()})).then((function(e){r.t6.info({message:e.message}),c(y((0,s.Z)((0,l.Z)({},M),{page:Y.current,max_size:Y.pageSize})))})).catch((function(e){}))};return(0,a.jsxs)(r.X2,{children:[(0,a.jsx)(r.JX,{children:(0,a.jsx)(r.zx,{icons:"PlusCircleOutlined",onClick:function(){b(!0),c(V())},children:"Create"})}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(S.User,{tables:{data:p.result.data,rowKey:function(e){return e.id},pagination:{defaultCurrent:Y.current+1,defaultPageSize:Y.pageSize,total:p.result.total_user,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,n){c(y((0,s.Z)((0,l.Z)({},M),{page:e-1,max_size:n}))),F((0,s.Z)((0,l.Z)({},Y),{current:e-1,pageSize:n}))}},column:[{title:"User List",render:function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.TH,{title:"company",ellipsis:!0,content:e.company}),(0,a.jsx)(r.TH,{title:"Name",content:e.name}),(0,a.jsx)(r.TH,{title:"username",content:e.usrname}),(0,a.jsx)(r.TH,{title:"level",content:e.level}),(0,a.jsxs)(r.TH,{title:"action",type:"action",children:[(0,a.jsx)(r.zx,{size:"small",icons:"EditOutlined",onClick:function(){return W(e.id)}}),(0,a.jsx)(r.gn,{title:"Are you sure to delete this?",onConfirm:function(){return B(e)},onCancel:function(){console.log("cancel delete")},children:(0,a.jsx)(r.zx,{size:"small",icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})]})},responsive:["xs"]},{title:"Name",dataIndex:"name",width:200,responsive:["md"],defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,n){return e.name.localeCompare(n.name)}},{title:"Username",dataIndex:"usrname",width:200,responsive:["md"],sorter:function(e,n){return e.usrname.localeCompare(n.usrname)},defaultSortOrder:"ascend",sortDirections:["descend","ascend"]},{title:"Company",dataIndex:"company",responsive:["md"],sorter:function(e,n){return e.company.localeCompare(n.company)}},{title:"Level",dataIndex:"level",width:120,responsive:["md"],render:function(e){return(0,a.jsx)(r.Vp,{style:{width:"100%",textAlign:"center"},children:e})}},{title:"Action",key:"action",width:90,align:"center",responsive:["md"],render:function(e,n){return(0,a.jsxs)(r.TH,{type:"action",children:[(0,a.jsx)(r.u,{title:"detail user",placement:"left",children:(0,a.jsx)(r.zx,{size:"small",icons:"EditOutlined",onClick:function(){return W(n.id)}})}),(0,a.jsx)(r.gn,{title:"Are you sure to delete this?",onConfirm:function(){return B(n)},onCancel:function(){console.log("cancel delete")},children:(0,a.jsx)(r.zx,{size:"small",icons:"DeleteOutlined",type:"dashed",danger:"true"})})]})}}]}})}),(0,a.jsx)(T.Create,{isOpen:_,submit:function(){var e,n={full_name:k.full_name,company:k.company,email:k.email,username:k.username,password:k.password,level_menu:k.level_menu,menu:k.menu?k.menu:[]};(e=n,new Promise((function(n,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/user/create/",a.token,e).then((function(e){return n(e)}))}))).then((function(e){return e.json()})).then((function(e){console.log(e),b(!1),r.t6.info({message:e.message}),c(y((0,s.Z)((0,l.Z)({},M),{page:Y.current,max_size:Y.pageSize})))})).catch((function(e){}))},onClose:function(){b(!1),z({})},children:(0,a.jsx)(r.l0,{children:(0,a.jsxs)(r.X2,{gutter:[12,0],align:"middle",justify:"center",children:[(0,a.jsxs)(r.JX,{span:24,children:[(0,a.jsx)(U,{type:"company",label:"company",value:k.company,onChange:function(e){return z((0,s.Z)((0,l.Z)({},k),{company:e}))}}),(0,a.jsx)(U,{type:"text",label:"email",value:k.email,onChange:function(e){return z((0,s.Z)((0,l.Z)({},k),{email:e.target.value}))}})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(U,{type:"text",label:"Name",value:k.full_name,onChange:function(e){return z((0,s.Z)((0,l.Z)({},k),{full_name:e.target.value}))}}),(0,a.jsx)(U,{type:"level",label:"User Level",value:k.level_menu,onChange:function(e){z((0,s.Z)((0,l.Z)({},k),{level_menu:e}))}})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(U,{type:"text",label:"Username",value:k.username,onChange:function(e){return z((0,s.Z)((0,l.Z)({},k),{username:e.target.value}))}}),(0,a.jsx)(U,{type:"password",label:"password",value:k.password,onChange:function(e){return z((0,s.Z)((0,l.Z)({},k),{password:e.target.value}))}})]}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(U,{type:"access",label:"access menu",selectAll:{disabled:4!=k.level_menu,indeterminate:x,label:"Select All",checked:(null===(e=k.menu)||void 0===e?void 0:e.length)==(null===(n=h.result.data)||void 0===n?void 0:n.length),onChange:function(e){j(!1),e.target.checked?z((0,s.Z)((0,l.Z)({},k),{menu:h.result.data.map((function(e){return e}))})):z((0,s.Z)((0,l.Z)({},k),{menu:[]}))}},group:{disabled:4!=k.level_menu,value:k.menu,options:h.result.data?h.result.data.map((function(e){return{value:e,label:e}})):[],onChange:function(e){z((0,s.Z)((0,l.Z)({},k),{menu:e}))}}})})]})})}),(0,a.jsx)(T,{title:"Detail ".concat(A.full_name),isOpen:D,onClose:function(){H(!1),I(!1)},submit:function(){var e,n={id:A.id,full_name:A.full_name,password:A.password,email:A.email,username:A.username,level_menu:A.level_menu,menu:A.list_menu};null==n.password&&(n={id:A.id,full_name:A.full_name,email:A.email,username:A.username,level_menu:A.level_menu,menu:A.list_menu}),(e=n,new Promise((function(n,t){var a=JSON.parse(localStorage.getItem("userToken"));return(0,g.SD)("admin/user/update/",a.token,e).then((function(e){return n(e)}))}))).then((function(e){return e.json()})).then((function(e){H(!1),r.t6.info({message:e.message}),c(y((0,s.Z)((0,l.Z)({},M),{page:Y.current,max_size:Y.pageSize})))})).catch((function(e){}))},submitDisable:0==J,children:(0,a.jsx)(r.l0,{children:(0,a.jsxs)(r.X2,{children:[(0,a.jsx)(r.JX,{span:24,children:(0,a.jsxs)(r.X2,{gutter:[12,0],children:[(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(r.TH,{title:"company",content:A.company})}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(r.TH,{title:"Name",content:A.full_name}),(0,a.jsx)(r.TH,{title:"level",content:Z.Tag(A.level_menu)})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(r.TH,{title:"username",content:A.username}),(0,a.jsx)(r.TH,{title:"email",content:A.email})]})]})}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(r.zx,{block:!0,type:"dashed",onClick:function(){I(!J),c(V())},children:J?"Close":"Update"})}),1==J?(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(r.TH,{ellipsis:!0,style:{border:"1px dashed red",borderRadius:4,padding:10},content:(0,a.jsxs)(r.X2,{gutter:[12,0],align:"middle",justify:"center",children:[(0,a.jsx)(C.Z,{children:(0,a.jsx)("label",{style:{fontWeight:500,textTransform:"capitalize"},children:"Update Form"})}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(U,{type:"text",label:"email",value:A.email,onChange:function(e){return P((0,s.Z)((0,l.Z)({},A),{email:e.target.value}))}})}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(U,{type:"text",label:"Name",value:A.full_name,onChange:function(e){return P((0,s.Z)((0,l.Z)({},A),{full_name:e.target.value}))}}),(0,a.jsx)(U,{type:"level",label:"User Level",defaultValue:A.level_menu,onChange:function(e){P((0,s.Z)((0,l.Z)({},A),{level_menu:e}))}})]}),(0,a.jsxs)(r.JX,{xs:24,sm:24,md:12,lg:12,children:[(0,a.jsx)(U,{type:"text",label:"Username",value:A.username,onChange:function(e){return P((0,s.Z)((0,l.Z)({},A),{username:e.target.value}))}}),(0,a.jsx)(U,{type:"password",label:"password",value:A.password,onChange:function(e){return P((0,s.Z)((0,l.Z)({},A),{password:e.target.value}))}})]}),(0,a.jsx)(r.JX,{span:24,children:(0,a.jsx)(U,{type:"access",label:"access menu",selectAll:{disabled:4!=A.level_menu,indeterminate:x,label:"Select All",checked:(null===(t=A.list_menu)||void 0===t?void 0:t.length)==(null===(u=h.result.data)||void 0===u?void 0:u.length),onChange:function(e){j(!1),e.target.checked?P((0,s.Z)((0,l.Z)({},A),{list_menu:h.result.data.map((function(e){return e}))})):P((0,s.Z)((0,l.Z)({},A),{list_menu:A.list_menu.map((function(e){return e}))}))}},group:{disabled:4!=A.level_menu,value:A.list_menu,options:h.result.data?h.result.data.map((function(e){return{value:e,label:e}})):[],onChange:function(e){j(!!e.length&&e.length<A.list_menu.length),P((0,s.Z)((0,l.Z)({},A),{list_menu:e}))}}})})]})})}):null]})})})]})},Y=function(){return(0,a.jsx)(r.li,{style:{height:"100%"},tabPosition:"top",data:[{key:1,title:"User List",content:(0,a.jsx)(L,{})},{key:2,title:"Company List",content:(0,a.jsx)(A,{})}]})}}},function(e){e.O(0,[495,366,774,888,179],(function(){return n=58195,e(e.s=n);var n}));var n=e.O();_N_E=n}]);