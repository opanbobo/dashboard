(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{78137:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/command",function(){return n(65798)}])},65798:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pe}});var r=n(85893),a=n(67294),i=n(48513),o=n(5152),s=function(e){return{children:e.children}},c=n(48780),l=n.n(c),u=n(78539),d=n(51518),m=n(66938),p=n(86706),f=n(43109),g=n(60011),h=n(66876),x=n(34058),y=n(98361),b=n(68822),_=n(86031),v=n(99883),j=n(50371),k=n.n(j);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var N=function(e){var t=e.className,n=e.onLoading,a=void 0!==n&&n,i=e.title,o=(e.stats,e.type,e.percentage,e.total),s=e.height,c=void 0===s?120:s,l=e.charts,u=O(e,["className","onLoading","title","stats","type","percentage","total","height","charts"]);return(0,r.jsxs)(_.Zb,S({className:t},u,{children:[1==a&&(0,r.jsx)(_.gb,{}),(0,r.jsxs)("div",{className:k()["spark-wrapper"],children:[(0,r.jsx)("div",{className:k()["spark-chart"],children:(0,r.jsx)(_._W,S({id:"Sparkline",type:l.type,height:c},l))}),(0,r.jsxs)("div",{className:k()["spark-info"],children:[(0,r.jsx)("div",{className:k()["info-title"],children:i}),(0,r.jsx)("div",{className:k()["info-stats"],children:(0,r.jsx)("h5",{className:k()["stats-total"],children:o})})]})]})]}))},P=n(73939),L=n(25617),z=n(35666),C=n.n(z),T=n(24923),M=n(74034);n(49552);function X(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){X(i,r,a,o,s,"next",e)}function s(e){X(i,r,a,o,s,"throw",e)}o(void 0)}))}}var J=function(e){return E(C().mark((function t(n,r){var a,i;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:T.MZ}),a=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,M.mD)("dashboard/wordcloud",a.token,e);case 5:return i=t.sent,t.next=8,i.json();case 8:i=t.sent,n({type:T.XX,result:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:T.w4,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},I=function(e){return E(C().mark((function t(n,r){var a,i;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:T.CD}),a=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,M.SD)("dashboard/media-count/articles",a.token,e);case 5:return i=t.sent,t.next=8,i.json();case 8:i=t.sent,n({type:T.cH,result:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:T.M6,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},Z=n(18051),D=n.n(Z);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var F=function(e){var t=e.className,n=e.data,i=A(e,["className","data"]),o=(0,L.I0)(),s=(0,L.v9)((function(e){return e.summary})).medCountArticle,c=(0,a.useState)({}),l=c[0],u=c[1],d=(0,a.useState)(!1),m=d[0],p=d[1],f=function(){return(0,r.jsx)(P.Z,{modal:{title:"Article List (".concat(l.name,")"),visible:m&&!s.loading,closable:!0,onCancel:function(){p(!1),u({})}},onLoading:s.loading,data:s.result.data?s.result.data.data.map((function(e){return{id:e.article_id,title:e.title,content:e.content,detail:e}})):[],pagination:{showSizeChanger:!0,total:s.result.data?s.result.data.recordsTotal:0,showTotal:function(e){return"Total ".concat(e," data")},defaultPageSize:l.size,defaultCurrent:l.page+1,onChange:function(e,t){o(I({size:t,page:e-1,article_ids:l.article_ids})),u(H({},l,{page:e-1,size:t}))}}})};return(0,r.jsxs)(_.Zb,H({className:t},i,{children:[(0,r.jsx)("div",{className:D()["media-list-wrapper"],children:n.map((function(e,t){return(0,r.jsxs)("div",{className:D()["list-item"],onClick:function(){u({name:e.label,page:0,size:10,article_ids:e.article_ids}),o(I({size:10,page:0,article_ids:e.article_ids})),p(!0)},children:[(0,r.jsx)("div",{className:D()["item-image"],children:(0,r.jsx)(_.Ee,{src:e.url,objectFit:"contain",alt:"icon",height:30,width:30,priority:"true"})}),(0,r.jsx)("div",{className:D()["item-label"],children:e.label}),(0,r.jsx)("div",{className:D()["item-total"],children:e.total})]},t)}))}),(0,r.jsx)(f,{})]}))};function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=function(e){var t=e.className,n=e.charts,a=V(e,["className","charts"]);return(0,r.jsx)(_._W,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}({id:"mediaTone",type:"bar",className:t},n,a))},R=n(51121),U=n.n(R);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q=function(e){var t=e.className,n=e.title,a=e.info,i=e.data,o=e.onLoading,s=e.imageStyle,c=e.labelStyle,l=$(e,["className","title","info","data","onLoading","imageStyle","labelStyle"]);return(0,r.jsxs)(_.Zb,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({onLoading:o,className:"".concat(t," ").concat(U()["mention-wrapper"])},l,{children:[null!=n&&(0,r.jsx)("div",{className:U()["mention-head"],children:(0,r.jsxs)("div",{className:U()["head-title"],children:[(0,r.jsx)("span",{className:U()["title-label"],children:n}),(0,r.jsx)(_.u,{title:a,children:(0,r.jsx)(_.JO,{className:U()["title-icon"],type:"InfoCircleOutlined"})})]})}),(0,r.jsx)("div",{className:U()["mention-list"],children:i.map((function(e,t){return(0,r.jsx)("div",{className:U()["mention-item"],children:(0,r.jsxs)(_.u,{title:e.label,children:[(0,r.jsx)("div",{className:U()["item-image"],style:s,children:e.image}),(0,r.jsx)("div",{className:U()["item-label"],style:c,children:e.label})]})},t)}))})]}))},B=n(69412),K=n(84865),ee=n(87661),te=n(4792),ne=n(36093),re=n(58497),ae=n(58742);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}function se(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ce=(0,o.default)((function(){return Promise.all([n.e(898),n.e(414),n.e(688)]).then(n.bind(n,2688))}),{loadableGenerated:{webpack:function(){return[2688]},modules:["command/index.js -> modules/dcc/geo"]},ssr:!1}),le=(0,o.default)((function(){return Promise.all([n.e(898),n.e(308)]).then(n.bind(n,23308))}),{loadableGenerated:{webpack:function(){return[23308]},modules:["command/index.js -> modules/dcc/wordcloud"]},ssr:!1}),ue={1023:" (max-width: 1023px)",1024:"(max-width: 1024px)"},de=function(e){var t=e.spokepersonStatistic,n=e.getSpokepersonStatisticClick,a=e.setDataList,i=e.setChartList,o=e.filter,s=e.dataList,c=(0,L.I0)();return(0,r.jsx)(Q,{onLoading:t.loading,data:t.result.data?t.result.data.map((function(e){return{label:e.influencer_name,image:(0,r.jsx)(_.Ee,{url:e.image?"https://demo.digivla.id":null,src:e.image?e.image:b.Z,objectFit:"cover",alt:"person",height:40,width:40,priority:"true",onClick:function(){c(n(oe({},o.result,{page:0,max_size:10,tone:"all",influencer:e.influencer_name,order:"desc"}))),i(!0),a(oe({},s,e))}},e.influencer_name)}})):[]})},me=function(){var e=(0,L.I0)(),t=(0,a.useState)(),n=t[0],o=t[1],s=(0,L.v9)((function(e){return e.geo})),c=(0,L.v9)((function(e){return e.summary})),b=(0,L.v9)((function(e){return e.analytic})),j=(0,L.v9)((function(e){return e.filter})),k=(0,L.v9)((function(e){return e.spokeperson})),w=(0,L.v9)((function(e){return e.issues})),S=s.geo,O=s.geoList,z=c.wordCloud,C=j.filter,T=k.spokepersonStatistic,X=k.spokepersonStatisticClick,E=k.spokepersonDetail,I=w.issueTop,Z=b.ews,D=b.coverageTonality,Y=b.toneMedia,H=b.article,A=b.mediaListCount,q=(0,a.useState)(!1),V=q[0],R=q[1],U=(0,a.useState)({}),W=U[0],$=U[1],Q=(0,a.useState)(!1),ie=Q[0],me=Q[1],pe=(0,a.useState)(!1),fe=pe[0],ge=pe[1],he=(0,a.useState)(""),xe=he[0],ye=he[1],be=(0,a.useState)({page:0,max_size:10}),_e=be[0],ve=be[1],je=(0,a.useState)({}),ke=je[0],we=je[1],Se=(0,a.useState)([]),Oe=(Se[0],Se[1]),Ne=(0,a.useState)(!1),Pe=Ne[0],Le=Ne[1],ze=(0,a.useState)(!1),Ce=ze[0],Te=ze[1],Me=(0,a.useState)(""),Xe=Me[0],Ee=Me[1];u.Z,u.Z,u.Z,d.Z,m.Z,p.Z,f.Z,g.Z,h.Z,x.Z,y.Z;(0,a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userToken"));(0,B.yZ)({client_id:t.client_id}).then((function(e){return e.json()})).then((function(t){"registered"==t.message&&(Le(!0),e((0,B.Vp)(oe({type_location:"article"},C.result)))),Te(!0)})).catch((function(e){return console.log(e)})),e(J(oe({},C.result,{total_word:40}))),e((0,K.R9)(C.result)),e((0,K.kI)(C.result)),e((0,K.GL)(C.result)),e((0,ee.rG)(oe({},C.result,{limit:10,page:0}))),e((0,K.uP)(C.result)),e((0,ne.c)(oe({},C.result,{limit:5})))}),[C]),(0,a.useEffect)((function(){(0,i.Z)(ue,o)}),[n]);var Je=function(t){"media"==t.type?(e((0,K.yU)(oe({},C.result,{maxSize:t.maxSize,page:t.page,media_id:Y.result.data[t.data.x].media_id,tone:"".concat(t.data.y-1)}))),$(oe({},t,{desc:{Media:Y.result.data[t.data.x].media_name,Tone:t.data.y-1==1?"Positive":t.data.y-1==-1?"Negative":"Neutral"}}))):"ews"==t.type?(e((0,K.yU)(oe({},C.result,{maxSize:t.maxSize,page:t.page,category_id:Z.result.series[t.data.y].name,start_date:Z.result.date[t.data.x],end_date:Z.result.date[t.data.x]}))),$(oe({},t,{desc:{Category:Z.result.series[t.data.y].name,Date:Z.result.date[t.data.x]}}))):"geo"==t.type?(e((0,B.YH)(oe({},C.result,{max_size:t.maxSize,page:t.page,geo_loc:t.geo_loc,type_location:"article"}))),$(oe({},t,{desc:{Location:t.geo_loc}}))):"tone"==t.type&&(e((0,K.yU)(oe({},C.result,{tone:"Neutral"==t.data.x?"0":"Positive"==t.data.x?"1":"-1",maxSize:t.maxSize,page:t.page,start_date:t.data.y,end_date:t.data.y}))),$(oe({},t,{desc:{Tone:t.data.x,Date:t.data.y}}))),R(!0)},Ie=function(e){$({}),R(!1)},Ze=function(){var e;return(0,r.jsx)(_.dy,{title:ke.influencer_name,placement:"right",visible:fe&&!E.loading,onClose:function(){ge(!1),we({})},children:(0,r.jsxs)(_.X2,{children:[(0,r.jsxs)(_.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,r.jsx)(_.TH,{title:"date:",content:ke.datee}),(0,r.jsx)(_.TH,{title:"sentiment:",content:(0,r.jsx)(_.Vp,{style:{margin:0},color:"1"==ke.tone?"success":"-1"==ke.tone?"error":"processing",children:1==ke.tone?"Positive":-1==ke.tone?"Negative":"Neutral"})})]}),(0,r.jsx)(_.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,r.jsx)(_.TH,{title:"media:",content:"".concat(ke.media)})}),(0,r.jsx)(_.JX,{span:24,children:(0,r.jsxs)(_.X2,{children:[(0,r.jsx)(_.JX,{span:24,children:(0,r.jsx)("div",{style:{overflowY:"scroll",maxHeight:300,border:"1px dashed rgba(54, 65, 76, 0.3)",padding:6,borderRadius:3},children:ke.quotes})}),(0,r.jsx)(_.JX,{span:24,children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(e=E.result.data)||void 0===e?void 0:e.content.replace(new RegExp(ke.quotes,"gi"),(function(e){return'<b class="highlight-text">'.concat(e,"</b>")}))}})})]})}),(0,r.jsx)(_.JX,{span:24,children:(0,r.jsx)(_.Vp,{color:"processing",children:ke.category_id})})]})})},De=function(){return(0,r.jsx)(P.Z,{modal:{title:"Article List ".concat(W.desc?"("+Object.keys(W.desc).map((function(e){return e+": "+W.desc[e]}))+")":""),visible:V&&!H.loading&&!O.loading,closable:!0,onCancel:Ie},onLoading:"geo"==W.type?O.loading:H.loading,data:"geo"==W.type?O.result.data?O.result.data.map((function(e){return{id:e.article_id,title:e.title,content:e.content,detail:e}})):[]:H.result.data?H.result.data.map((function(e){return{id:e.article_id,title:e.title,content:e.content,detail:e}})):[],pagination:{showSizeChanger:!0,total:"geo"==W.type?O.result.recordsTotal:H.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," data")},defaultPageSize:W.maxSize?H.maxSize:H.max_size,defaultCurrent:W.page+1,onChange:function(e,t){return Je(oe({},W,{page:e-1,maxSize:t}))}}})},Ye=function(){var e,t=[];for(var n in null===(e=I.result.data)||void 0===e?void 0:e.top_issue){var a;t.push({value:null===(a=I.result.data)||void 0===a?void 0:a.top_issue[n],title:n})}return(0,r.jsx)(r.Fragment,{children:t.length>0?t.map((function(e,t){return(0,r.jsx)(_.TH,{title:e.title,content:e.value},t)})):(0,r.jsx)(_.HY,{description:"Please set Filter First"})})};return(0,r.jsxs)("div",{className:l()["command-wrapper"],children:[(0,r.jsxs)("div",{className:l().toprow,children:[(0,r.jsx)("div",{className:l().topcol,children:(0,r.jsxs)(_.X2,{children:[(0,r.jsx)(_.JX,{xs:24,md:24,lg:14,xl:16,children:(0,r.jsx)(de,{spokepersonStatistic:T,getSpokepersonStatisticClick:ee.AY,setDataList:ve,setChartList:me,filter:C,dataList:_e})}),(0,r.jsx)(_.JX,{xs:24,md:24,lg:10,xl:8,children:(0,r.jsx)(N,{onLoading:D.loading,bodyStyle:{padding:6},title:"media sentiment breakdown",type:"up",total:D.result.data?D.result.data.chart_bar.reduce((function(e,t){return{doc_count:e.doc_count+t.doc_count}})).doc_count:0,percentage:8,height:75,charts:{type:"line",events:{markerClick:function(e,t,n){Je({type:"tone",page:0,maxSize:10,order_by:"datee",order:"desc",data:{x:n.w.config.series[n.seriesIndex].name,y:Z.result.date[n.dataPointIndex]}})}},series:D.result.data?D.result.data.chart_bar.map((function(e){return{name:1==e.key?"Positive":-1==e.key?"Negative":"Neutral",data:e.tone_per_day.buckets.map((function(e){return e.doc_count})),color:1==e.key?"#06d6a0":-1==e.key?"#ff6b6b":"#1990ff"}})):[],options:{stroke:{width:2,lineCap:"butt"},grid:te.ON.options.grid,yaxis:{show:!1},legend:te.ON.options.legend,xaxis:{type:"date",categories:Z.result.date||[]}},chartOptions:te.ON.chart}})})]})}),(0,r.jsx)("div",{className:l().leftcol,children:(0,r.jsx)(F,{style:{height:"100%"},bodyStyle:{height:"100%"},data:A.result.data?A.result.data.map((function(e){return e})):[]})}),(0,r.jsx)("div",{className:l().midcol,children:(0,r.jsxs)(_.X2,{style:{height:"100%"},children:[(0,r.jsx)(_.JX,{xs:24,md:24,lg:13,xl:16,children:(0,r.jsx)(_.Zb,{style:{height:"100%"},bodyStyle:{height:"100%"},className:l()["dcc-card"],onLoading:!Ce,children:Pe?(0,r.jsx)(ce,{className:l()["chart-geo"],options:S.result.data?S.result.data:[],clickEvent:function(e){Je({type:"geo",page:0,maxSize:10,order_by:"datee",order:"desc",type_location:"article",geo_loc:e})}}):(0,r.jsxs)(_.X2,{align:"middle",children:[(0,r.jsx)(_.JX,{children:"Please select date for backtrack:"}),(0,r.jsxs)(_.JX,{children:[(0,r.jsx)(_.Mt,{onChange:function(e){return Ee(e.format("YYYY-MM-DD"))}}),(0,r.jsx)(_.zx,{onClick:function(){(0,B.l7)({backtrack_date:Xe}).then((function(e){return e.json()})).then((function(t){"client_id is successfully registered"==t.message?(_.t6.success({message:"Success backtrack"}),e((0,B.Vp)(oe({},defaultFilter,C.result))),Le(!0)):_.t6.error({message:"Error happen when add backtrack date!"})}))},children:"Submit"})]})]})})}),(0,r.jsx)(_.JX,{xs:24,md:24,lg:11,xl:8,children:(0,r.jsxs)(_.X2,{style:{height:"100%"},children:[(0,r.jsx)(_.JX,{span:24,children:(0,r.jsx)(_.Zb,{title:"top issue",style:{height:"100%"},bodyStyle:{height:"100%"},className:l()["dcc-card-list"],onLoading:I.loading,children:(0,r.jsx)(Ye,{})})}),(0,r.jsx)(_.JX,{span:24,children:(0,r.jsx)(_.Zb,{style:{height:"100%"},bodyStyle:{height:"100%"},onLoading:z.loading,className:l()["dcc-card"],children:z.result.total_word?(0,r.jsx)(le,{className:l()["chart-word"],options:{series:[{type:"wordcloud",data:z.result.data?z.result.data.map((function(e){return{name:e.name,weight:e.weight,color:"rgba(25, 144, 255,".concat(e.weight>20?1:e.weight<=15?.3:1,")")}})):[],style:{fontFamily:"Noto Sans, sans-serif",textTransform:"capitalize"},minFontSize:10}]}}):(0,r.jsxs)(_.X2,{children:[(0,r.jsx)(_.JX,{children:"Please select date for backtrack:"}),(0,r.jsxs)(_.JX,{children:[(0,r.jsx)(_.Mt,{onChange:function(e){return ye(e.format("YYYY-MM-DD"))}}),(0,r.jsx)(_.zx,{onClick:function(){var t;(t={backtrack_date:xe},new Promise((function(e,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,M.mD)("dashboard/wordcloud/register",r.token,t).then((function(t){return e(t)}))}))).then((function(e){return e.json()})).then((function(t){"vdadi successfully registered..."==t.message?(_.t6.success({message:"Success backtrack"}),e(J({start_date:C.result.start_date,end_date:C.result.end_date,total_word:40}))):_.t6.error({message:"Error when add backtrack date"})})).catch((function(e){return _.t6.error({message:"Error when add backtrack date"})}))},children:"Submit"})]})]})})})]})})]})})]}),(0,r.jsx)("div",{className:l().botrow,children:(0,r.jsxs)(_.X2,{children:[(0,r.jsx)(_.JX,{xs:24,md:24,lg:12,xl:12,children:(0,r.jsx)(_.Zb,{onLoading:Y.loading,children:(0,r.jsx)(G,{charts:{series:Y.result.data?function(e){var t=[],n=[],r=[],a=[];return e.forEach((function(e){e.tones.forEach((function(e){e.negative>-1?t.push(e.negative):e.positive>-1?n.push(e.positive):e.neutral>-1?r.push(e.neutral):a.push(void 0==e["media favorability index"]?0:e["media favorability index"])}))})),[{name:"Negative",data:t},{name:"Neutral",data:r},{name:"Positive",data:n},{name:"Media Favorability Index",data:a}]}(Y.result.data):[],chartOptions:{stacked:!0,events:{dataPointSelection:function(e,t,n){Je({type:"media",page:0,maxSize:10,order_by:"datee",order:"desc",data:{x:n.dataPointIndex,y:n.seriesIndex}})}}},options:{title:{text:"Top 10 Media",floating:!1,offsetY:5,align:"left",style:te.X6.title.style},colors:se(te.X6.colors).concat(["#A020F0"]),plotOptions:te.X6.plotOptions,xaxis:{categories:Y.result.data?Y.result.data.map((function(e){return e.media_name})):[]},legend:{position:"top",horizontalAlign:"right",markers:{height:10,width:10,offsetY:0}}}}})})}),(0,r.jsx)(_.JX,{xs:24,md:24,lg:12,xl:12,children:(0,r.jsx)(_.Zb,{onLoading:Z.loading,children:(0,r.jsx)(v.Z,{charts:{series:Z.result.series||[],events:{markerClick:function(e,t,n){Je({type:"ews",page:0,maxSize:10,order_by:"datee",order:"desc",data:{x:n.dataPointIndex,y:n.seriesIndex}})}},options:{title:{text:"Early Warning System",floating:!1,offsetY:5,align:"left",style:te.$E.title.style},tooltip:{shared:!0,enabled:!0},markers:te.$E.markers,stroke:te.$E.stroke,colors:te.$E.colors,xaxis:{categories:Z.result.date||[]},legend:{show:!1},yaxis:{show:!0,tickAmount:3,min:0,max:20,labels:{formatter:function(e,t){return e>=0&&e<=5?"Potential":e>5&&e<=10?"Emerging":e>10&&e<20?"Current":"Crisis"}}}}}})})})]})}),(0,r.jsx)(De,{}),(0,r.jsx)(Ze,{}),(0,r.jsx)(re.Z,{chartList:ie,setChartList:me,spokepersonStatisticClick:X,dataList:_e,paginationHandler:function(t,n){e((0,ee.AY)(oe({},C.result,{page:t-1,max_size:n,tone:"all",influencer:_e.influencer_name,order:"desc"}))),ve(oe({},_e,{page:t-1,max_size:n}))},setDataList:ve,handleClickChart:function(t){e((0,ee.gG)({article_id:t.article_id})),(0,ae.Mr)({article_id:t.article_id}).then((function(e){return e.json()})).then((function(e){Oe(e.data),we(t),ge(!0)})).catch((function(e){return console.log(e)}))}})]})};me.layout=function(e){return(0,r.jsx)(s,{children:e})};var pe=me},69412:function(e,t,n){"use strict";n.d(t,{Vp:function(){return d},YH:function(){return m},yZ:function(){return p},l7:function(){return f}});var r=n(35666),a=n.n(r),i=n(66890),o=n(74034);n(49552);function s(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}var d=function(e){return c(a().mark((function t(n,r){var s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.Yk}),s=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,o.ab)("all-count/",s.token,u({},e,{tone:e.tonee}));case 5:return c=t.sent,t.next=8,c.json();case 8:c=t.sent,n({type:i.LV,result:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:i.Pc,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},m=function(e){return c(a().mark((function t(n,r){var s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.Gq}),s=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,o.ab)("article-by-geo/",s.token,u({},e,{tone:e.tonee}));case 5:return c=t.sent,t.next=8,c.json();case 8:c=t.sent,n({type:i.Iu,result:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:i.rz,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},p=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,o.SD)("geo/get/status/",r.token,e).then((function(e){return t(e)}))}))},f=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,o.SD)("geo/add/",r.token,e).then((function(e){return t(e)}))}))}},36093:function(e,t,n){"use strict";n.d(t,{c:function(){return c},V:function(){return l}});var r=n(35666),a=n.n(r),i=n(9926),o=n(74034);n(49552);function s(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}var c=function(e){return t=a().mark((function t(n,r){var s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.mT}),s=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,o.SD)("dashboard/top-issue",s.token,e);case 5:return c=t.sent,t.next=8,c.json();case 8:c=t.sent,n({type:i.dO,result:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:i.bO,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))};var t},l=function(e){return new Promise((function(t,n){var r=JSON.parse(localStorage.getItem("userToken"));return(0,o._o)("issue/update/",r.token,e).then((function(e){return t(e)}))}))}},18051:function(e){e.exports={"media-list-wrapper":"commandMediaList_media-list-wrapper__dgoam","list-item":"commandMediaList_list-item__3Tj_0","item-image":"commandMediaList_item-image__1OM64","item-label":"commandMediaList_item-label__2Z-4i","item-total":"commandMediaList_item-total__3V4ob"}},51121:function(e){e.exports={"mention-wrapper":"commandMention_mention-wrapper__3FMX_","mention-head":"commandMention_mention-head__1f2f9","head-title":"commandMention_head-title__37tjD","title-label":"commandMention_title-label__3z_1v","title-icon":"commandMention_title-icon__qT1H2","mention-list":"commandMention_mention-list__2Nnbe","mention-item":"commandMention_mention-item__30a3k","item-image":"commandMention_item-image__R3qXa","item-label":"commandMention_item-label__2j0Tc","mention-wrapper-spoke":"commandMention_mention-wrapper-spoke__3zSrY","item-info":"commandMention_item-info__3FSrA","item-content":"commandMention_item-content__1QHU1"}},50371:function(e){e.exports={"spark-wrapper":"sparkline_spark-wrapper__qNynM","spark-chart":"sparkline_spark-chart__11j3i","spark-info":"sparkline_spark-info__tdHEq","info-title":"sparkline_info-title__11qY3","info-stats":"sparkline_info-stats__1FJgs","stats-total":"sparkline_stats-total__8JJHk","stats-sub":"sparkline_stats-sub__29TLu","icon-sub":"sparkline_icon-sub__35RDA"}},48780:function(e){e.exports={"command-wrapper":"command_command-wrapper__1SfKr",toprow:"command_toprow__1vbl0",topcol:"command_topcol__29YoH",leftcol:"command_leftcol__3d17b",midcol:"command_midcol__2eQ7h","chart-word":"command_chart-word__1QWmi",rightcol:"command_rightcol__BXLyM",botrow:"command_botrow__1MnoJ"}}},function(e){e.O(0,[840,874,62,774,888,179],(function(){return t=78137,e(e.s=t);var t}));var t=e.O();_N_E=t}]);