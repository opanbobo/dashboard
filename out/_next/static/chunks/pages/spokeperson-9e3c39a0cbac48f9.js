(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{21326:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spokeperson",function(){return t(54168)}])},4792:function(e,n,t){"use strict";t.d(n,{$E:function(){return r},ON:function(){return o},X6:function(){return i}});var r={title:{text:"title",align:"left",offsetY:5,floating:!0,style:{fontSize:"14px",fontWeight:400,color:"#263238"}},tooltip:{shared:!1},markers:{size:6,hover:{sizeOffset:0}},stroke:{width:4,lineCap:"butt"},colors:["#06d6a0","#1990ff","#ff6b6b"],legend:{position:"bottom",horizontalAlign:"center",markers:{width:15,height:4,radius:0,offsetY:-2}}},i={chartOptions:{stacked:!0},colors:["#ff6b6b","#1990ff","#06d6a0"],title:{text:"title",align:"left",offsetY:5,floating:!0,style:{fontSize:"14px",fontWeight:400,color:"#263238"}},plotOptions:{bar:{horizontal:!0,borderRadius:6}},xaxis:{categories:["Media A","Media B","Media C","Media D"]},legend:{position:"bottom",horizontalAlign:"center",markers:{width:8,height:8,radius:2,offsetY:0}}},o={chart:{background:"#65add0",sparkline:{enabled:!0}},options:{grid:{show:!1},yaxis:{show:!0},legend:{show:!1}}}},54168:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return J}});var r=t(26042),i=t(69396),o=t(85893),a=function(e){var n=e.children;return(0,o.jsx)("div",{children:n})},s=t(67294),u=t(18975),c=t(4792),l=t(48513),d=function(e){var n=e.className,t=e.cards,a=e.charts;return(0,o.jsx)(u.Zb,(0,i.Z)((0,r.Z)({},t),{children:(0,o.jsx)(u._W,(0,r.Z)({className:n,type:"bar"},a))}))},f=t(99534),p=function(e){var n=e.cards,t=e.tables;(0,f.Z)(e,["cards","tables"]);return(0,o.jsx)(u.Zb,(0,i.Z)((0,r.Z)({},n),{children:(0,o.jsx)(u.iA,(0,r.Z)({},t))}))},m=t(58497),g=t(25617),h=t(87661),x=t(78539),k=t(51518),S=t(66938),v=t(86706),j=t(43109),w=t(60011),_=t(66876),y=t(34058),b=t(98361),Z=t(68822),T=t(58742),N={tablet:"(min-width: 300px) and (max-width: 500px)",desktop:"(min-width: 1024px)"},I=function(){var e,n=(0,s.useState)(),t=n[0],a=n[1],f=(0,s.useState)({page:0,max_size:10}),I=f[0],J=f[1],O=(0,s.useState)({page:0,max_size:10}),z=O[0],P=O[1],X=(0,g.I0)(),D=(0,g.v9)((function(e){return e.spokeperson})),C=D.spokepersonList,E=D.spokepersonStatistic,H=D.spokepersonDetail,L=D.spokepersonStatisticClick,M=(0,g.v9)((function(e){return e.filter})).filter,A=(0,s.useState)(!0),B=(A[0],A[1],(0,s.useState)(!1)),Y=B[0],R=B[1],V=(0,s.useState)({}),W=V[0],q=V[1],F=(0,s.useState)(!1),G=F[0],K=F[1],U=(0,s.useState)(!1),$=U[0],Q=U[1],ee=(0,s.useState)([]),ne=(ee[0],ee[1]),te=(0,s.useState)(!1),re=(te[0],te[1],(0,s.useState)("")),ie=(re[0],re[1],(0,s.useState)("")),oe=(ie[0],ie[1],(0,s.useState)(!1)),ae=(oe[0],oe[1],(0,s.useState)(!1)),se=(ae[0],ae[1],[{img:x.Z,name:"Airlangga"},{img:x.Z,name:"Menko Airlangga"},{img:x.Z,name:"Menteri Koordinator Bidang Perekonomian Airlangga Hartarto"},{img:k.Z,name:"Edwin"},{img:S.Z,name:"Erick"},{img:v.Z,name:"Haru"},{img:j.Z,name:"Jasmin"},{img:w.Z,name:"Rully"},{img:_.Z,name:"Sayed"},{img:y.Z,name:"Sunarso"},{img:b.Z,name:"Toni"}]);(0,s.useEffect)((function(){(0,l.Z)(N,a)}),[t]),(0,s.useEffect)((function(){X((0,h.UV)((0,i.Z)((0,r.Z)({},M.result),{page:0,max_size:10}))),X((0,h.rG)((0,i.Z)((0,r.Z)({},M.result),{limit:10,page:0,max_size:10}))).catch((function(e){return console.log(e)}))}),[M]);var ue=function(){var e,n;return(0,o.jsx)(u.dy,{title:W.influencer_name,placement:"right",visible:G&&!H.loading,onClose:function(){K(!1),q({})},children:(0,o.jsxs)(u.X2,{children:[(0,o.jsxs)(u.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:[(0,o.jsx)(u.TH,{title:"date:",content:W.datee}),(0,o.jsx)(u.TH,{title:"sentiment:",content:(0,o.jsx)(u.Vp,{style:{margin:0},color:"1"==W.tone?"success":"-1"==W.tone?"error":"processing",children:1==W.tone?"Positive":-1==W.tone?"Negative":"Neutral"})})]}),(0,o.jsx)(u.JX,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,o.jsx)(u.TH,{title:"media:",content:"".concat(W.media)})}),(0,o.jsx)(u.JX,{span:24,children:(0,o.jsxs)(u.X2,{children:[(0,o.jsx)(u.JX,{span:24,children:(0,o.jsx)("div",{style:{overflowY:"scroll",maxHeight:300,border:"1px dashed rgba(54, 65, 76, 0.3)",padding:6,borderRadius:3},children:W.quotes})}),(0,o.jsx)(u.JX,{span:24,children:(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(e=H.result.data)||void 0===e?void 0:e.content.replace(new RegExp(W.quotes,"gi"),(function(e){return'<b class="highlight-text">'.concat(e,"</b>")}))}})})]})}),(0,o.jsx)(u.JX,{span:24,children:null===(n=W.category_id)||void 0===n?void 0:n.map((function(e){return(0,o.jsx)(u.Vp,{color:"processing",children:e},e)}))})]})})},ce=function(e){var n=e.data,t=e.props,a={display:"-webkit-box",maxWidth:"80%",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"};return(0,o.jsx)(o.Fragment,{children:E.loading?(0,o.jsx)(u.gb,{}):(0,o.jsx)(u.X2,{style:{heigth:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},children:n.map((function(e,n){return(0,o.jsx)(u.JX,{xs:24,sm:24,md:24,lg:24,xl:24,children:(0,o.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,o.jsx)(u.Zb,(0,i.Z)((0,r.Z)({onLoading:E.loading},t),{hoverable:!0,style:{height:65,width:65},cover:e.image,onClick:function(){X((0,h.AY)((0,i.Z)((0,r.Z)({},M.result),{page:0,max_size:10,tone:"all",influencer:e.label||e.influencer_name,order:"desc"}))),J((0,r.Z)({},I,e)),Q(!0)}})),(0,o.jsx)("div",{style:a,children:e.label})]})},n)}))})})};return(0,o.jsxs)(u.X2,{children:[(0,o.jsx)(u.JX,{span:24,children:(0,o.jsxs)(u.X2,{children:[(0,o.jsx)(u.JX,{xs:24,sm:24,md:24,lg:6,xl:6,children:(0,o.jsx)(u.Zb,{title:"spokeperson",children:(0,o.jsx)(ce,{data:E.result.data?E.result.data.map((function(e){se.findIndex((function(n){return n.name==e.influencer_name}));return{label:(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e.influencer_name}),(0,o.jsxs)("p",{style:{fontSize:"12px"},children:["Statement ",e.count.all]})]}),image:(0,o.jsx)(u.Ee,{src:e.image?e.image:Z.Z,url:e.image?"https://demo.digivla.id":null,layout:"fill",objectFit:"cover",alt:"person",priority:"true"})}})):[]})})}),(0,o.jsxs)(u.JX,{xs:24,sm:24,md:24,lg:18,xl:18,children:[(0,o.jsx)(d,{cards:{title:"spokeperson breakdown",onLoading:E.loading,shadow:!0,extra:(0,o.jsx)(u.zx,{size:"small",type:"link",onClick:function(){R(!Y)},children:"view"})},charts:{series:[{name:"negative",data:E.result.data?E.result.data.map((function(e){return e.count.negative})):[]},{name:"neutral",data:E.result.data?E.result.data.map((function(e){return e.count.netral})):[]},{name:"positive",data:E.result.data?E.result.data.map((function(e){return e.count.positive})):[]}],events:{dataPointSelection:function(e,n,t){X((0,h.AY)((0,i.Z)((0,r.Z)({},M.result),{page:0,max_size:10,tone:t.seriesIndex-1,influencer:E.result.data[t.dataPointIndex].influencer_name,order:"desc"}))),Q(!0),J((0,r.Z)({},I,E.result.data[t.dataPointIndex]))}},chartOptions:{stacked:!0},options:{colors:c.X6.colors,plotOptions:{bar:{horizontal:Y,borderRadius:6}},xaxis:{categories:E.result.data?E.result.data.map((function(e){return e.influencer_name})):[]},legend:c.X6.legend}}}),(0,o.jsx)("p",{}),(0,o.jsx)(u.JX,{style:{padding:"0px"},children:(0,o.jsx)(p,{cards:{onLoading:C.loading,title:"spokeperson list",extra:"Total: ".concat(null===(e=C.result.data)||void 0===e?void 0:e.length)},tables:{data:C.result.data?C.result.data:[],rowKey:function(e){return e.quotes},expandable:{expandedRowRender:function(e){return(0,o.jsx)("p",{style:{margin:0},children:e.quotes})},rowExpandable:function(e){return"Not Expandable"!==e.influencer_name}},pagination:{showSizeChanger:!0,total:C.result.recordsTotal,showTotal:function(e){return"Total ".concat(e," article")},current:z.page+1,pageSize:z.max_size,onChange:function(e,n){X((0,h.UV)((0,i.Z)((0,r.Z)({},M.result),{page:e-1,max_size:n}))),P({page:e-1,max_size:n})}},column:[{title:"Spokeperson List",render:function(e){return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(u.TH,{title:"Date",content:e.datee}),(0,o.jsx)(u.TH,{title:"Media",content:e.media}),(0,o.jsx)(u.TH,{title:"Spokeperson",content:e.influencer_name}),(0,o.jsx)(u.TH,{title:"tone",content:e.tone}),(0,o.jsx)(u.TH,{title:"action",type:"action",children:(0,o.jsx)(u.zx,{size:"small",icons:"EditTwotone"})})]})},responsive:["xs"]},{title:"Date",dataIndex:"datee",key:"datee",width:100,responsive:["md"],sorter:function(e,n){return e.datee-n.datee}},{title:"Name",dataIndex:"influencer_name",key:"influencer_name",ellipsis:!0,responsive:["md"],sorter:function(e,n){return e.influencer_name.length-n.influencer_name.length}},{title:"Media",dataIndex:"media",key:"media_id",responsive:["md"],sorter:function(e,n){return e.media_id-n.media_id}},{title:"Tone",dataIndex:"tones",key:"tones",width:100,responsive:["md"],sorter:function(e,n){return e.tones-n.tones},render:function(e,n){return(0,o.jsx)(u.Vp,{color:0==n.tone?"processing":1==n.tone?"success":"error",children:n.tone<0?"Negative":n.tone>0?"Positive":"Neutral"})}},{title:"Action",key:"action",width:60,align:"center",responsive:["md"],render:function(e,n){return(0,o.jsx)(u.TH,{type:"action",children:(0,o.jsx)(u.zx,{size:"small",icons:"EditOutlined",onClick:function(){q(n),K(!0),X((0,h.gG)({article_id:n.article_id}))}})})}}]}})})]})]})}),(0,o.jsx)(ue,{}),(0,o.jsx)(m.Z,{chartList:$,setChartList:Q,spokepersonStatisticClick:L,dataList:I,paginationHandler:function(e,n){X((0,h.AY)((0,i.Z)((0,r.Z)({},M.result),{page:e-1,max_size:n,tone:"all",influencer:I.label||I.influencer_name,order:"desc"}))),J((0,i.Z)((0,r.Z)({},I),{page:e-1,max_size:n}))},setDataList:J,handleClickChart:function(e){X((0,h.gG)({article_id:e.article_id})),(0,T.Mr)({article_id:e.article_id}).then((function(e){return e.json()})).then((function(n){q(e),K(!0),ne(n.data)})).catch((function(e){return console.log(e)}))}})]})};I.layout=a;var J=I},58742:function(e,n,t){"use strict";t.d(n,{Dc:function(){return c},HG:function(){return b},HX:function(){return J},L5:function(){return f},Lj:function(){return Z},M9:function(){return x},Mr:function(){return k},Nu:function(){return j},Tf:function(){return m},Y:function(){return I},_$:function(){return g},aB:function(){return _},cK:function(){return T},e9:function(){return l},eq:function(){return p},jX:function(){return v},k5:function(){return h},n3:function(){return y},r8:function(){return S},rt:function(){return d},tI:function(){return N},yz:function(){return w}});var r=t(47568),i=t(26042),o=t(69396),a=t(97582),s=t(5032),u=t(74034),c=(t(49552),function(e){return function(){var n=(0,r.Z)((function(n,t){var r,c,l;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n({type:s.i4}),r=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.SD)("user/editing/",r.token,(0,o.Z)((0,i.Z)({},e),{tone:e.tonee}))];case 1:return[4,(c=t.sent()).json()];case 2:return c=t.sent(),n({type:s.If,result:c}),[3,4];case 3:return l=t.sent(),n({type:s.yb,result:l}),[3,4];case 4:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}()}),l=function(e){return function(n,t){n({type:s.If,result:e})}},d=function(){return function(){var e=(0,r.Z)((function(e,n){var t,r,i;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e({type:s.Ev}),t=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.Be)("issue/list/",t.token)];case 1:return[4,(r=n.sent()).json()];case 2:return r=n.sent(),e({type:s.Lj,result:r}),[3,4];case 3:return i=n.sent(),e({type:s.QB,result:i}),[3,4];case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}()},f=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/editing/send-mail",r.token,e).then((function(e){return n(e)}))}))},p=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/download/docxs",r.token,e).then((function(e){return n(e)}))}))},m=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/download/pdfs",r.token,e).then((function(e){return n(e)}))}))},g=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/title/update",r.token,e).then((function(e){return n(e)}))}))},h=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/summary/update",r.token,e).then((function(e){return n(e)}))}))},x=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/tone/update",r.token,e).then((function(e){return n(e)}))}))},k=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/keywords-by-article-id/",r.token,e).then((function(e){return n(e)}))}))},S=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/tone/multiple/update",r.token,e).then((function(e){return n(e)}))}))},v=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/delete",r.token,e).then((function(e){return setTimeout((function(){return n(e)}),1e3)}))}))},j=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("issue/add/",r.token,e).then((function(e){return n(e)}))}))},w=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/save",r.token,e).then((function(e){return n(e)}))}))},_=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.Be)("user/subcategories-distinct/",r.token,e).then((function(e){return n(e)}))}))},y=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/delete/category",r.token,e).then((function(e){return n(e)}))}))},b=function(){return function(){var e=(0,r.Z)((function(e,n){var t,r,i;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e({type:s.mk}),t=JSON.parse(localStorage.getItem("userToken")),[4,(0,u.Be)("user/sponsor",t.token)];case 1:return[4,(r=n.sent()).json()];case 2:return r=n.sent(),e({type:s.FK,result:r}),[3,4];case 3:return i=n.sent(),e({type:s.VB,result:i}),[3,4];case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}()},Z=function(){return new Promise((function(e,n){var t=JSON.parse(localStorage.getItem("userToken"));return(0,u.Be)("user/sponsor",t.token).then((function(n){return e(n)}))}))},T=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/article/sponsor",r.token,e).then((function(e){return n(e)}))}))},N=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.SD)("user/sponsor",r.token,e).then((function(e){return n(e)}))}))},I=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u._o)("user/sponsor",r.token,e).then((function(e){return n(e)}))}))},J=function(e){return new Promise((function(n,t){var r=JSON.parse(localStorage.getItem("userToken"));return(0,u.Y2)("user/sponsor",r.token,e).then((function(e){return n(e)}))}))}}},function(e){e.O(0,[62,774,888,179],(function(){return n=21326,e(e.s=n);var n}));var n=e.O();_N_E=n}]);