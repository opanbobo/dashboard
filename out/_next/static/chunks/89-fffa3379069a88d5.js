"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{894:function(e,t,n){var i=n(85893),r=n(86031),o=n(93986),a=n(90063),l=n(67294),s=(n(13983),n(58742)),c=n(13448),u=n(25617),d=n(28367);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){p(e,t,n[t])}))}return e}t.Z=function(e){var t,n,p,h=e.setclipEditingPop,m=e.setEditingDrawerTemp,x=e.clipEditingPop,g=e.handleSubmitEditingModal,j=e.summaryEdit,v=e.setsummaryEdit,b=e.saveArticlePop,y=e.setsaveArticlePop,_=e.buttonLoading,w=e.setbuttonLoading,S=e.editingDrawerTemp,k=e.keyword,C=e.search,J=e.sponsor,T=e.sponsorCol,X=(0,u.I0)(),O=(0,u.v9)((function(e){return e.newsClipping.newsClippingList})),P=(0,l.useState)(S.title),z=P[0],H=P[1],I=(0,l.useState)(S.tone||0),E=I[0],R=I[1],V=(0,l.useState)(S.summary),D=V[0],N=V[1],L=(0,l.useState)(S.issue),Z=L[0],B=L[1],A=(0,l.useState)([]),F=A[0],M=A[1],Y=(0,l.useState)([]),q=(Y[0],Y[1],(0,l.useState)([])),G=q[0],K=q[1],Q=JSON.parse(localStorage.getItem("userToken"));return(0,i.jsx)(r.dy,{title:S.title,placement:"right",onClose:function(){h(!1),m({}),H(""),R(null),y(!1)},visible:x,footer:(0,i.jsx)(r.zx,{loading:_,type:"primary",style:{float:"right"},onClick:function(){g(z,E,D,Z,S.categories,S.sponsor)},children:"Submit"}),children:(0,i.jsxs)(r.X2,{children:[!C&&(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.II,{type:"textarea",autoSize:{minRows:1,maxRows:2},defaultValue:z,onChange:function(e){H(e.target.value)}})}),(0,i.jsxs)(r.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(r.TH,{bold:!0,title:"date",content:S.datee}),(0,i.jsx)(r.TH,{bold:!0,title:"media",content:S.media_name}),(null===(t=S.file_pdf)||void 0===t?void 0:t.split("/").length)>1&&(0,i.jsx)(r.TH,{bold:!0,title:"option",content:(0,i.jsx)("a",{style:{width:"100%",margin:0},onClick:function(){return window.open(S.file_pdf)},children:"Preview"})})]}),!C&&(0,i.jsxs)(r.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(r.TH,{bold:!0,title:"news value",content:(0,a.v)(S.advalue_bw)}),(0,i.jsx)(r.TH,{bold:!0,title:"ad value",content:(0,a.v)(S.advalue_fc)})]}),C&&(0,i.jsxs)(r.JX,{xs:24,md:12,lg:12,xl:12,children:[(0,i.jsx)(r.TH,{bold:!0,title:"news value",content:(0,a.m6)(S.rate_bw)}),(0,i.jsx)(r.TH,{bold:!0,title:"ad value",content:(0,a.m6)(S.rate_fc)}),(0,i.jsx)(r.TH,{bold:!0,title:"download",content:(0,i.jsxs)(r.X2,{children:[(0,i.jsx)(r.JX,{span:12,children:(0,i.jsx)(r.zx,{size:"small",type:"primary",danger:!0,block:!0,onClick:function(){return e=1,void(0,s.Tf)({doc_type:e,logo_name:Q.comp_icon,articles:[{article_id:S.article_id,title:S.title,datee:S.datee,content:S.content,page:S.page,file_pdf:S.file_pdf,journalist:S.journalist,rate_bw:S.rate_bw,rate_fc:S.rate_fc,tone:0,media_name:S.media_name,media_type:S.media_type}]}).then((function(e){return e.json()})).then((function(e){200==e.code&&window.open(e.data.link)})).catch((function(e){return e}));var e},children:"PDF"})}),(0,i.jsx)(r.JX,{span:12,children:(0,i.jsx)(r.zx,{size:"small",type:"primary",block:!0,onClick:function(){(0,s.eq)({logo_name:Q.comp_icon,articles:[{article_id:S.article_id,title:S.title,datee:S.datee,content:S.content,page:S.page,file_pdf:S.file_pdf,journalist:S.journalist,rate_bw:S.rate_bw,rate_fc:S.rate_fc,tone:0,media_name:S.media_name,media_type:S.media_type}]}).then((function(e){return e.json()})).then((function(e){200==e.code&&window.open(e.data)})).catch((function(e){return e}))},children:"DOC"})})]})})]}),!C&&(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.TH,{bold:!0,ellipsis:!0,title:"sentiment",content:(0,i.jsx)(r.Y8,{type:"group",value:E,onChange:function(e){R(e.target.value)},options:[{value:1,label:"Positive"},{value:0,label:"Neutral"},{value:-1,label:"negative"}]})})}),J,S.issue?(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.TH,{title:"edit issue",content:(0,i.jsx)(r.II,{style:{width:"100%"},onChange:function(e){B(e.target.value)},defaultValue:Z})})}):null,(0,i.jsx)(r.JX,{span:24,children:(0,i.jsxs)(r.X2,{children:[!C&&(0,i.jsx)(r.JX,{xs:24,md:12,lg:12,xl:12,children:(0,i.jsx)(r.zx,{block:"true",size:"default",type:"dashed",icons:j?"RollBackOutlined":"EditOutlined",onClick:function(){return v(!j)},children:j?"Back":"Edit Content"})}),(0,i.jsx)(r.JX,{xs:24,md:12,lg:12,xl:12,children:(0,i.jsxs)(r.zx,{block:"true",size:"default",type:"dashed",icons:b?"RollBackOutlined":"SaveOutlined",onClick:function(){b||((0,s.aB)().then((function(e){return e.json()})).then((function(e){M(e.results)})),(0,s.Lj)().then((function(e){return e.json()})).then((function(e){K(e.data)})).catch((function(e){return e}))),y(!b)},children:[b?"Detail":"Save"," Article"]})})]})}),j?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.II,{id:"editor",type:"textarea",style:{borderStyle:"dashed"},autoSize:{minRows:8,maxRows:8},defaultValue:D,onChange:function(e){return N(e.target.value)}})}),(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.zx,{loading:_,type:"primary",icons:"SaveOutlined",onClick:function(){w(!0),setTimeout((function(){v(!j),w(!1)}),500)},children:"Content"})})]}):b?(0,i.jsxs)(r.JX,{span:24,children:[C&&(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.TH,{bold:!0,title:"sentiment",content:(0,i.jsx)(r.Y8,{type:"group",value:E,onChange:function(e){R(e.target.value)},options:[{value:1,label:"Positive"},{value:0,label:"Neutral"},{value:-1,label:"negative"}]})})}),(0,i.jsx)(o.Z,{title:"subcategories",options:F.map((function(e){return e.category_id})),defaultValue:S.categories,onChange:function(e){m(f({},S,{categories:e}))}}),T&&(0,i.jsx)(o.Z.Sponsor,{title:"Sponsorship",options:G.map((function(e){return e.name})),defaultValue:S.sponsor.map((function(e){return e.name})),onChange:function(e){m(f({},S,{sponsor:G.filter((function(t){return e.find((function(e){return e==t.name}))}))}))}})]}):(0,i.jsxs)(l.Fragment,{children:[!C&&(0,i.jsx)(r.JX,{span:24,children:(0,i.jsx)(r.II,{id:"editor",type:"textarea",style:{borderStyle:"dashed"},autoSize:{minRows:8,maxRows:8},defaultValue:D,readOnly:!0})}),(0,i.jsxs)(r.JX,{span:24,children:["p4"==(null===(n=S.file_pdf)||void 0===n?void 0:n.split(".m")[1])&&(0,i.jsx)("video",{src:S.file_pdf,controls:!0,children:"Your browser does not support HTML5 video."}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,d.p)(k,S.content)}})]})]}),(0,i.jsx)(r.JX,{span:24,children:null===(p=S.categories)||void 0===p?void 0:p.map((function(e){return(0,i.jsx)(r.u,{title:e,children:(0,i.jsx)(r.Vp,{style:{margin:3},color:"processing",closable:!0,onClose:function(){(0,s.n3)({article_id:S.article_id,category_id:e}).then((function(e){return e.json()})).then((function(e){c.Z.success({message:"Success delete subcat"}),X((0,s.e9)(f({},O,{data:O.result.data.map((function(t){return t.article_id==S.article_id?f({},t,{categories:e.data}):t}))})))})).catch((function(e){c.Z.error({message:"Error delete sub category!"})})),m(f({},S,{categories:S.categories.map((function(t){return t==e?null:t})).filter((function(e){return e}))}))},children:e})},e)}))})]})})}},36093:function(e,t,n){n.d(t,{c:function(){return s},V:function(){return c}});var i=n(35666),r=n.n(i),o=n(9926),a=n(74034);n(49552);function l(e,t,n,i,r,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,r)}var s=function(e){return t=r().mark((function t(n,i){var l,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.mT}),l=JSON.parse(localStorage.getItem("userToken")),t.next=5,(0,a.SD)("dashboard/top-issue",l.token,e);case 5:return s=t.sent,t.next=8,s.json();case 8:s=t.sent,n({type:o.dO,result:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:o.bO,result:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})),function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(e){l(o,i,r,a,s,"next",e)}function s(e){l(o,i,r,a,s,"throw",e)}a(void 0)}))};var t},c=function(e){return new Promise((function(t,n){var i=JSON.parse(localStorage.getItem("userToken"));return(0,a._o)("issue/update/",i.token,e).then((function(e){return t(e)}))}))}}}]);